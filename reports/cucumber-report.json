[
  {
    "description": "  As a developer\n  I want to use logging functionality in my application\n  So that I can track application behavior and debug issues",
    "elements": [
      {
        "description": "",
        "id": "application-logging-behavior;log-application-startup",
        "keyword": "Scenario",
        "line": 9,
        "name": "Log application startup",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 157040
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 18166
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the application is running",
            "match": {
              "location": "tests/steps/application-logging.steps.ts:8"
            },
            "result": {
              "status": "passed",
              "duration": 2462499
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 10,
            "name": "the application starts",
            "match": {
              "location": "tests/steps/application-logging.steps.ts:12"
            },
            "result": {
              "status": "passed",
              "duration": 3181541
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 11,
            "name": "the application should log startup information",
            "match": {
              "location": "tests/steps/application-logging.steps.ts:17"
            },
            "result": {
              "status": "passed",
              "duration": 1614541
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 12,
            "name": "the log level should be appropriate for startup",
            "match": {
              "location": "tests/steps/application-logging.steps.ts:22"
            },
            "result": {
              "status": "passed",
              "duration": 556541
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "application-logging-behavior;log-user-authentication",
        "keyword": "Scenario",
        "line": 14,
        "name": "Log user authentication",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 23792
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 8708
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the application is running",
            "match": {
              "location": "tests/steps/application-logging.steps.ts:8"
            },
            "result": {
              "status": "passed",
              "duration": 31749
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 15,
            "name": "a user attempts to log in",
            "match": {
              "location": "tests/steps/application-logging.steps.ts:27"
            },
            "result": {
              "status": "passed",
              "duration": 374583
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 16,
            "name": "the authentication is successful",
            "match": {
              "location": "tests/steps/application-logging.steps.ts:32"
            },
            "result": {
              "status": "passed",
              "duration": 294499
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 17,
            "name": "the application should log the successful authentication",
            "match": {
              "location": "tests/steps/application-logging.steps.ts:37"
            },
            "result": {
              "status": "passed",
              "duration": 444000
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 18,
            "name": "the log should include user information",
            "match": {
              "location": "tests/steps/application-logging.steps.ts:42"
            },
            "result": {
              "status": "passed",
              "duration": 436417
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "application-logging-behavior;log-error-conditions",
        "keyword": "Scenario",
        "line": 20,
        "name": "Log error conditions",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 15457
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 6082
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the application is running",
            "match": {
              "location": "tests/steps/application-logging.steps.ts:8"
            },
            "result": {
              "status": "passed",
              "duration": 29417
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 21,
            "name": "an error occurs in the application",
            "match": {
              "location": "tests/steps/application-logging.steps.ts:48"
            },
            "result": {
              "status": "passed",
              "duration": 428791
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 22,
            "name": "the application should log the error",
            "match": {
              "location": "tests/steps/application-logging.steps.ts:53"
            },
            "result": {
              "status": "passed",
              "duration": 388124
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 23,
            "name": "the log should include error details",
            "match": {
              "location": "tests/steps/application-logging.steps.ts:58"
            },
            "result": {
              "status": "passed",
              "duration": 473834
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 24,
            "name": "the log level should indicate an error",
            "match": {
              "location": "tests/steps/application-logging.steps.ts:64"
            },
            "result": {
              "status": "passed",
              "duration": 260833
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "application-logging-behavior;log-performance-warnings",
        "keyword": "Scenario",
        "line": 26,
        "name": "Log performance warnings",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 9084
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 4457
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the application is running",
            "match": {
              "location": "tests/steps/application-logging.steps.ts:8"
            },
            "result": {
              "status": "passed",
              "duration": 8832
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 27,
            "name": "system performance degrades",
            "match": {
              "location": "tests/steps/application-logging.steps.ts:69"
            },
            "result": {
              "status": "passed",
              "duration": 253458
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 28,
            "name": "the application should log performance warnings",
            "match": {
              "location": "tests/steps/application-logging.steps.ts:74"
            },
            "result": {
              "status": "passed",
              "duration": 274749
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 29,
            "name": "the log should include performance metrics",
            "match": {
              "location": "tests/steps/application-logging.steps.ts:79"
            },
            "result": {
              "status": "passed",
              "duration": 233707
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      }
    ],
    "id": "application-logging-behavior",
    "line": 1,
    "keyword": "Feature",
    "name": "Application logging behavior",
    "tags": [],
    "uri": "features/application-logging.feature"
  },
  {
    "description": "  As a developer\n  I want a webhook endpoint that receives POST requests from Commercetools subscription API\n  So that I can process customer.created and customer.updated events",
    "elements": [
      {
        "description": "",
        "id": "webhook-endpoint-for-commercetools-events;accept-valid-customer.created-event",
        "keyword": "Scenario",
        "line": 9,
        "name": "Accept valid customer.created event",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 13750
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 6916
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 1447541
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 10,
            "name": "a valid Commercetools customer.created webhook payload",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:142"
            },
            "result": {
              "status": "passed",
              "duration": 522832
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 11,
            "name": "I send a POST request to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:198"
            },
            "result": {
              "status": "passed",
              "duration": 494559292
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 12,
            "name": "the endpoint should return HTTP status 200",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:216"
            },
            "result": {
              "status": "passed",
              "duration": 2099208
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 13,
            "name": "the endpoint should identify the event as customer.created",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:223"
            },
            "result": {
              "status": "passed",
              "duration": 1441250
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "webhook-endpoint-for-commercetools-events;accept-valid-customer.updated-event",
        "keyword": "Scenario",
        "line": 15,
        "name": "Accept valid customer.updated event",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 53917
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 11499
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 297583
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 16,
            "name": "a valid Commercetools customer.updated webhook payload",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:150"
            },
            "result": {
              "status": "passed",
              "duration": 612124
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 17,
            "name": "I send a POST request to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:198"
            },
            "result": {
              "status": "passed",
              "duration": 153324916
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 18,
            "name": "the endpoint should return HTTP status 200",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:216"
            },
            "result": {
              "status": "passed",
              "duration": 360874
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 19,
            "name": "the endpoint should identify the event as customer.updated",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:223"
            },
            "result": {
              "status": "passed",
              "duration": 473875
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "webhook-endpoint-for-commercetools-events;reject-non-post-requests",
        "keyword": "Scenario",
        "line": 21,
        "name": "Reject non-POST requests",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 34333
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 9500
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 69042
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 22,
            "name": "a valid Commercetools webhook payload",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:158"
            },
            "result": {
              "status": "passed",
              "duration": 641250
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 23,
            "name": "I send a GET request to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:198"
            },
            "result": {
              "status": "passed",
              "duration": 151458
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 24,
            "name": "the endpoint should return HTTP status 400",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:216"
            },
            "result": {
              "status": "passed",
              "duration": 79749
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "webhook-endpoint-for-commercetools-events;reject-invalid-request-methods",
        "keyword": "Scenario Outline",
        "line": 33,
        "name": "Reject invalid request methods",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 18915
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 8083
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 42249
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 27,
            "name": "a valid Commercetools webhook payload",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:158"
            },
            "result": {
              "status": "passed",
              "duration": 25083
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 28,
            "name": "I send a GET request to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:198"
            },
            "result": {
              "status": "passed",
              "duration": 90291
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 29,
            "name": "the endpoint should return HTTP status 400",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:216"
            },
            "result": {
              "status": "passed",
              "duration": 57709
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "webhook-endpoint-for-commercetools-events;reject-invalid-request-methods",
        "keyword": "Scenario Outline",
        "line": 34,
        "name": "Reject invalid request methods",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 25541
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 8958
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 46833
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 27,
            "name": "a valid Commercetools webhook payload",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:158"
            },
            "result": {
              "status": "passed",
              "duration": 27458
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 28,
            "name": "I send a PUT request to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:198"
            },
            "result": {
              "status": "passed",
              "duration": 80582
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 29,
            "name": "the endpoint should return HTTP status 400",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:216"
            },
            "result": {
              "status": "passed",
              "duration": 131624
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "webhook-endpoint-for-commercetools-events;reject-invalid-request-methods",
        "keyword": "Scenario Outline",
        "line": 35,
        "name": "Reject invalid request methods",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 19583
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 8040
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 28792
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 27,
            "name": "a valid Commercetools webhook payload",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:158"
            },
            "result": {
              "status": "passed",
              "duration": 19041
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 28,
            "name": "I send a DELETE request to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:198"
            },
            "result": {
              "status": "passed",
              "duration": 74958
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 29,
            "name": "the endpoint should return HTTP status 400",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:216"
            },
            "result": {
              "status": "passed",
              "duration": 123709
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "webhook-endpoint-for-commercetools-events;reject-invalid-request-methods",
        "keyword": "Scenario Outline",
        "line": 36,
        "name": "Reject invalid request methods",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 22666
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 6582
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 32249
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 27,
            "name": "a valid Commercetools webhook payload",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:158"
            },
            "result": {
              "status": "passed",
              "duration": 16249
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 28,
            "name": "I send a PATCH request to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:198"
            },
            "result": {
              "status": "passed",
              "duration": 65624
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 29,
            "name": "the endpoint should return HTTP status 400",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:216"
            },
            "result": {
              "status": "passed",
              "duration": 48208
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "webhook-endpoint-for-commercetools-events;reject-request-with-missing-body",
        "keyword": "Scenario",
        "line": 38,
        "name": "Reject request with missing body",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 17208
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 9625
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 37792
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 39,
            "name": "no request body is provided",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:167"
            },
            "result": {
              "status": "passed",
              "duration": 826792
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 40,
            "name": "I send a POST request to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:198"
            },
            "result": {
              "status": "passed",
              "duration": 108749
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 41,
            "name": "the endpoint should return HTTP status 400",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:216"
            },
            "result": {
              "status": "passed",
              "duration": 178290
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "webhook-endpoint-for-commercetools-events;reject-request-with-invalid-json",
        "keyword": "Scenario",
        "line": 43,
        "name": "Reject request with invalid JSON",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 16166
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 5957
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 43291
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 44,
            "name": "an invalid JSON payload",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:174"
            },
            "result": {
              "status": "passed",
              "duration": 326749
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 45,
            "name": "I send a POST request to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:198"
            },
            "result": {
              "status": "passed",
              "duration": 141457
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 46,
            "name": "the endpoint should return HTTP status 400",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:216"
            },
            "result": {
              "status": "passed",
              "duration": 59333
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "webhook-endpoint-for-commercetools-events;reject-request-with-malformed-payload-structure",
        "keyword": "Scenario",
        "line": 48,
        "name": "Reject request with malformed payload structure",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 14166
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 4625
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 27166
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 49,
            "name": "a JSON payload with missing required fields",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:181"
            },
            "result": {
              "status": "passed",
              "duration": 428541
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 50,
            "name": "I send a POST request to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:198"
            },
            "result": {
              "status": "passed",
              "duration": 78666
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 51,
            "name": "the endpoint should return HTTP status 400",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:216"
            },
            "result": {
              "status": "passed",
              "duration": 46458
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      }
    ],
    "id": "webhook-endpoint-for-commercetools-events",
    "line": 1,
    "keyword": "Feature",
    "name": "Webhook Endpoint for Commercetools Events",
    "tags": [],
    "uri": "features/story-2-webhook-endpoint.feature"
  },
  {
    "description": "  As a developer\n  I want to transform Commercetools customer data into Segment Identify API format\n  So that I can send properly formatted data to Segment",
    "elements": [
      {
        "description": "",
        "id": "customer-data-transformation;transform-customer-with-email-to-segment-format",
        "keyword": "Scenario",
        "line": 9,
        "name": "Transform customer with email to Segment format",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 8832
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 5583
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a transformation function is available",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:106"
            },
            "result": {
              "status": "passed",
              "duration": 360083
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 10,
            "name": "a Commercetools customer payload with email \"user@example.com\"",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:113"
            },
            "result": {
              "status": "passed",
              "duration": 842999
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 11,
            "name": "I transform the customer data to Segment format",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:350"
            },
            "result": {
              "status": "passed",
              "duration": 361791
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 12,
            "name": "the transformed data should have userId \"user@example.com\"",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:368"
            },
            "result": {
              "status": "passed",
              "duration": 807624
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 13,
            "name": "the transformed data should have email \"user@example.com\" in traits",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:377"
            },
            "result": {
              "status": "passed",
              "duration": 1269125
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-data-transformation;transform-customer-with-first-name-and-last-name",
        "keyword": "Scenario",
        "line": 15,
        "name": "Transform customer with first name and last name",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 14707
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a transformation function is available",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:106"
            },
            "result": {
              "status": "passed",
              "duration": 49625
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 16,
            "name": "a Commercetools customer payload with first name \"John\" and last name \"Doe\"",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:121"
            },
            "result": {
              "status": "passed",
              "duration": 1407749
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 17,
            "name": "I transform the customer data to Segment format",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:350"
            },
            "result": {
              "status": "passed",
              "duration": 23541
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 18,
            "name": "the transformed data should have name \"John Doe\" in traits",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:386"
            },
            "result": {
              "status": "passed",
              "duration": 902833
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-data-transformation;transform-customer-with-full-name",
        "keyword": "Scenario",
        "line": 20,
        "name": "Transform customer with full name",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 19125
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 5750
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a transformation function is available",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:106"
            },
            "result": {
              "status": "passed",
              "duration": 54999
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 21,
            "name": "a Commercetools customer payload with full name \"Jane Smith\"",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:129"
            },
            "result": {
              "status": "passed",
              "duration": 826667
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 22,
            "name": "I transform the customer data to Segment format",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:350"
            },
            "result": {
              "status": "passed",
              "duration": 19208
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 23,
            "name": "the transformed data should have name \"Jane Smith\" in traits",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:386"
            },
            "result": {
              "status": "passed",
              "duration": 318042
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-data-transformation;transform-customer-with-complete-address",
        "keyword": "Scenario",
        "line": 25,
        "name": "Transform customer with complete address",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 15417
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 5374
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a transformation function is available",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:106"
            },
            "result": {
              "status": "passed",
              "duration": 51332
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "street",
                      "city",
                      "postalCode",
                      "country"
                    ]
                  },
                  {
                    "cells": [
                      "123 Main St",
                      "New York",
                      "10001",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 26,
            "name": "a Commercetools customer payload with address:",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:137"
            },
            "result": {
              "status": "passed",
              "duration": 896874
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 29,
            "name": "I transform the customer data to Segment format",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:350"
            },
            "result": {
              "status": "passed",
              "duration": 146500
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "street",
                      "city",
                      "postalCode",
                      "country"
                    ]
                  },
                  {
                    "cells": [
                      "123 Main St",
                      "New York",
                      "10001",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Then ",
            "line": 30,
            "name": "the transformed data should have address in traits:",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:395"
            },
            "result": {
              "status": "passed",
              "duration": 480749
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-data-transformation;transform-customer-with-all-fields-(email,-name,-address)",
        "keyword": "Scenario",
        "line": 34,
        "name": "Transform customer with all fields (email, name, address)",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 13666
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 5165
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a transformation function is available",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:106"
            },
            "result": {
              "status": "passed",
              "duration": 61582
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "field",
                      "value"
                    ]
                  },
                  {
                    "cells": [
                      "email",
                      "user@example.com"
                    ]
                  },
                  {
                    "cells": [
                      "firstName",
                      "John"
                    ]
                  },
                  {
                    "cells": [
                      "lastName",
                      "Doe"
                    ]
                  },
                  {
                    "cells": [
                      "street",
                      "123 Main St"
                    ]
                  },
                  {
                    "cells": [
                      "city",
                      "New York"
                    ]
                  },
                  {
                    "cells": [
                      "postalCode",
                      "10001"
                    ]
                  },
                  {
                    "cells": [
                      "country",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 35,
            "name": "a Commercetools customer payload with:",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:177"
            },
            "result": {
              "status": "passed",
              "duration": 398999
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 44,
            "name": "I transform the customer data to Segment format",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:350"
            },
            "result": {
              "status": "passed",
              "duration": 28125
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 45,
            "name": "the transformed data should have userId \"user@example.com\"",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:368"
            },
            "result": {
              "status": "passed",
              "duration": 156874
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 46,
            "name": "the transformed data should have email \"user@example.com\" in traits",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:377"
            },
            "result": {
              "status": "passed",
              "duration": 146750
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 47,
            "name": "the transformed data should have name \"John Doe\" in traits",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:386"
            },
            "result": {
              "status": "passed",
              "duration": 37207
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "street",
                      "city",
                      "postalCode",
                      "country"
                    ]
                  },
                  {
                    "cells": [
                      "123 Main St",
                      "New York",
                      "10001",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "And ",
            "line": 48,
            "name": "the transformed data should have address in traits:",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:395"
            },
            "result": {
              "status": "passed",
              "duration": 70083
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-data-transformation;handle-missing-email-field-gracefully",
        "keyword": "Scenario",
        "line": 52,
        "name": "Handle missing email field gracefully",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 49625
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 28125
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a transformation function is available",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:106"
            },
            "result": {
              "status": "passed",
              "duration": 75833
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 53,
            "name": "a Commercetools customer payload without email",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:281"
            },
            "result": {
              "status": "passed",
              "duration": 396416
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 54,
            "name": "I transform the customer data to Segment format",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:350"
            },
            "result": {
              "status": "passed",
              "duration": 15958
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 55,
            "name": "the transformation should complete without error",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:437"
            },
            "result": {
              "status": "passed",
              "duration": 298832
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 56,
            "name": "the transformed data should not have email in traits",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:443"
            },
            "result": {
              "status": "passed",
              "duration": 283415
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-data-transformation;handle-missing-name-fields-gracefully",
        "keyword": "Scenario",
        "line": 58,
        "name": "Handle missing name fields gracefully",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 22500
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 7166
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a transformation function is available",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:106"
            },
            "result": {
              "status": "passed",
              "duration": 66541
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 59,
            "name": "a Commercetools customer payload without name fields",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:286"
            },
            "result": {
              "status": "passed",
              "duration": 441458
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 60,
            "name": "I transform the customer data to Segment format",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:350"
            },
            "result": {
              "status": "passed",
              "duration": 19583
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 61,
            "name": "the transformation should complete without error",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:437"
            },
            "result": {
              "status": "passed",
              "duration": 43124
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 62,
            "name": "the transformed data should not have name in traits",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:462"
            },
            "result": {
              "status": "passed",
              "duration": 984750
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-data-transformation;handle-missing-address-fields-gracefully",
        "keyword": "Scenario",
        "line": 64,
        "name": "Handle missing address fields gracefully",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 17624
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 6374
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a transformation function is available",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:106"
            },
            "result": {
              "status": "passed",
              "duration": 55832
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 65,
            "name": "a Commercetools customer payload without address fields",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:291"
            },
            "result": {
              "status": "passed",
              "duration": 442957
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 66,
            "name": "I transform the customer data to Segment format",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:350"
            },
            "result": {
              "status": "passed",
              "duration": 19957
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 67,
            "name": "the transformation should complete without error",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:437"
            },
            "result": {
              "status": "passed",
              "duration": 38332
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 68,
            "name": "the transformed data should not have address in traits",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:468"
            },
            "result": {
              "status": "passed",
              "duration": 567749
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-data-transformation;handle-null-email-field-gracefully",
        "keyword": "Scenario",
        "line": 70,
        "name": "Handle null email field gracefully",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 14916
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 6290
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a transformation function is available",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:106"
            },
            "result": {
              "status": "passed",
              "duration": 45791
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 71,
            "name": "a Commercetools customer payload with null email",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:296"
            },
            "result": {
              "status": "passed",
              "duration": 357208
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 72,
            "name": "I transform the customer data to Segment format",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:350"
            },
            "result": {
              "status": "passed",
              "duration": 15667
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 73,
            "name": "the transformation should complete without error",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:437"
            },
            "result": {
              "status": "passed",
              "duration": 39375
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 74,
            "name": "the transformed data should not have email in traits",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:443"
            },
            "result": {
              "status": "passed",
              "duration": 29041
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-data-transformation;handle-null-name-fields-gracefully",
        "keyword": "Scenario",
        "line": 76,
        "name": "Handle null name fields gracefully",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 10790
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 5167
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a transformation function is available",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:106"
            },
            "result": {
              "status": "passed",
              "duration": 37500
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 77,
            "name": "a Commercetools customer payload with null name fields",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:304"
            },
            "result": {
              "status": "passed",
              "duration": 330375
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 78,
            "name": "I transform the customer data to Segment format",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:350"
            },
            "result": {
              "status": "passed",
              "duration": 11958
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 79,
            "name": "the transformation should complete without error",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:437"
            },
            "result": {
              "status": "passed",
              "duration": 32832
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 80,
            "name": "the transformed data should not have name in traits",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:462"
            },
            "result": {
              "status": "passed",
              "duration": 38749
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-data-transformation;handle-null-address-fields-gracefully",
        "keyword": "Scenario",
        "line": 82,
        "name": "Handle null address fields gracefully",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 13040
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 5292
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a transformation function is available",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:106"
            },
            "result": {
              "status": "passed",
              "duration": 132375
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 83,
            "name": "a Commercetools customer payload with null address fields",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:314"
            },
            "result": {
              "status": "passed",
              "duration": 787082
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 84,
            "name": "I transform the customer data to Segment format",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:350"
            },
            "result": {
              "status": "passed",
              "duration": 12167
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 85,
            "name": "the transformation should complete without error",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:437"
            },
            "result": {
              "status": "passed",
              "duration": 48083
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 86,
            "name": "the transformed data should not have address in traits",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:468"
            },
            "result": {
              "status": "passed",
              "duration": 108332
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-data-transformation;handle-partial-address-fields",
        "keyword": "Scenario",
        "line": 88,
        "name": "Handle partial address fields",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 18874
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 4208
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a transformation function is available",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:106"
            },
            "result": {
              "status": "passed",
              "duration": 55749
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "street",
                      "city"
                    ]
                  },
                  {
                    "cells": [
                      "123 Main St",
                      "New York"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 89,
            "name": "a Commercetools customer payload with partial address:",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:322"
            },
            "result": {
              "status": "passed",
              "duration": 382834
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 92,
            "name": "I transform the customer data to Segment format",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:350"
            },
            "result": {
              "status": "passed",
              "duration": 31500
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "street",
                      "city"
                    ]
                  },
                  {
                    "cells": [
                      "123 Main St",
                      "New York"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Then ",
            "line": 93,
            "name": "the transformed data should have address in traits:",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:395"
            },
            "result": {
              "status": "passed",
              "duration": 47375
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 96,
            "name": "the transformed data address should not have postalCode",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:474"
            },
            "result": {
              "status": "passed",
              "duration": 300167
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 97,
            "name": "the transformed data address should not have country",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:485"
            },
            "result": {
              "status": "passed",
              "duration": 518707
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-data-transformation;transform-returns-segment-identify-api-compatible-structure",
        "keyword": "Scenario",
        "line": 99,
        "name": "Transform returns Segment Identify API compatible structure",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 11584
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 17165
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a transformation function is available",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:106"
            },
            "result": {
              "status": "passed",
              "duration": 34291
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 100,
            "name": "a Commercetools customer payload with email \"test@example.com\"",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:113"
            },
            "result": {
              "status": "passed",
              "duration": 180792
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 101,
            "name": "I transform the customer data to Segment format",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:350"
            },
            "result": {
              "status": "passed",
              "duration": 15041
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 102,
            "name": "the transformed data should have structure compatible with Segment Identify API",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:492"
            },
            "result": {
              "status": "passed",
              "duration": 787041
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 103,
            "name": "the transformed data should have userId field",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:503"
            },
            "result": {
              "status": "passed",
              "duration": 324416
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 104,
            "name": "the transformed data should have traits field",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:510"
            },
            "result": {
              "status": "passed",
              "duration": 308207
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 105,
            "name": "the transformed data traits should have email field",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:517"
            },
            "result": {
              "status": "passed",
              "duration": 260459
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-data-transformation;transform-customer-with-different-name-combinations",
        "keyword": "Scenario Outline",
        "line": 116,
        "name": "Transform customer with different name combinations",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 11334
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 3708
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a transformation function is available",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:106"
            },
            "result": {
              "status": "passed",
              "duration": 35082
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "firstName",
                      "lastName",
                      "fullName"
                    ]
                  },
                  {
                    "cells": [
                      "John",
                      "Doe",
                      ""
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 108,
            "name": "a Commercetools customer payload with:",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:177"
            },
            "result": {
              "status": "passed",
              "duration": 18332
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 111,
            "name": "I transform the customer data to Segment format",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:350"
            },
            "result": {
              "status": "passed",
              "duration": 12958
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 112,
            "name": "the transformed data should have name \"John Doe\" in traits",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:386"
            },
            "result": {
              "status": "passed",
              "duration": 33415
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-data-transformation;transform-customer-with-different-name-combinations",
        "keyword": "Scenario Outline",
        "line": 117,
        "name": "Transform customer with different name combinations",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 10167
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 3833
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a transformation function is available",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:106"
            },
            "result": {
              "status": "passed",
              "duration": 31459
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "firstName",
                      "lastName",
                      "fullName"
                    ]
                  },
                  {
                    "cells": [
                      "Jane",
                      "",
                      ""
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 108,
            "name": "a Commercetools customer payload with:",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:177"
            },
            "result": {
              "status": "passed",
              "duration": 14208
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 111,
            "name": "I transform the customer data to Segment format",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:350"
            },
            "result": {
              "status": "passed",
              "duration": 8749
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 112,
            "name": "the transformed data should have name \"Jane\" in traits",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:386"
            },
            "result": {
              "status": "passed",
              "duration": 27707
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-data-transformation;transform-customer-with-different-name-combinations",
        "keyword": "Scenario Outline",
        "line": 118,
        "name": "Transform customer with different name combinations",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 6709
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 3040
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a transformation function is available",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:106"
            },
            "result": {
              "status": "passed",
              "duration": 21457
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "firstName",
                      "lastName",
                      "fullName"
                    ]
                  },
                  {
                    "cells": [
                      "",
                      "Smith",
                      ""
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 108,
            "name": "a Commercetools customer payload with:",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:177"
            },
            "result": {
              "status": "passed",
              "duration": 55083
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 111,
            "name": "I transform the customer data to Segment format",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:350"
            },
            "result": {
              "status": "passed",
              "duration": 29874
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 112,
            "name": "the transformed data should have name \"Smith\" in traits",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:386"
            },
            "result": {
              "status": "passed",
              "duration": 27332
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-data-transformation;transform-customer-with-different-name-combinations",
        "keyword": "Scenario Outline",
        "line": 119,
        "name": "Transform customer with different name combinations",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 10583
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 3791
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a transformation function is available",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:106"
            },
            "result": {
              "status": "passed",
              "duration": 75874
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "firstName",
                      "lastName",
                      "fullName"
                    ]
                  },
                  {
                    "cells": [
                      "",
                      "",
                      "John Doe"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 108,
            "name": "a Commercetools customer payload with:",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:177"
            },
            "result": {
              "status": "passed",
              "duration": 18584
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 111,
            "name": "I transform the customer data to Segment format",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:350"
            },
            "result": {
              "status": "passed",
              "duration": 12375
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 112,
            "name": "the transformed data should have name \"John Doe\" in traits",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:386"
            },
            "result": {
              "status": "passed",
              "duration": 27249
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-data-transformation;transform-customer-with-different-name-combinations",
        "keyword": "Scenario Outline",
        "line": 120,
        "name": "Transform customer with different name combinations",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 8207
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 3166
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a transformation function is available",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:106"
            },
            "result": {
              "status": "passed",
              "duration": 25875
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "firstName",
                      "lastName",
                      "fullName"
                    ]
                  },
                  {
                    "cells": [
                      "John",
                      "Doe",
                      "Jane Smith"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 108,
            "name": "a Commercetools customer payload with:",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:177"
            },
            "result": {
              "status": "passed",
              "duration": 12083
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 111,
            "name": "I transform the customer data to Segment format",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:350"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 112,
            "name": "the transformed data should have name \"Jane Smith\" in traits",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:386"
            },
            "result": {
              "status": "passed",
              "duration": 24999
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      }
    ],
    "id": "customer-data-transformation",
    "line": 1,
    "keyword": "Feature",
    "name": "Customer Data Transformation",
    "tags": [],
    "uri": "features/story-3-customer-data-transformation.feature"
  },
  {
    "description": "  As a developer\n  I want to send transformed customer data to Segment Identify API\n  So that users are created or updated in Segment identified by email",
    "elements": [
      {
        "description": "",
        "id": "segment-identify-api-integration;send-customer-data-to-segment-identify-api-successfully",
        "keyword": "Scenario",
        "line": 10,
        "name": "Send customer data to Segment Identify API successfully",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 7749
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 3207
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the Segment client is initialized with write key from environment",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:173"
            },
            "result": {
              "status": "passed",
              "duration": 350290
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "transformed customer data is available",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:185"
            },
            "result": {
              "status": "passed",
              "duration": 171708
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 11,
            "name": "transformed customer data with email \"user@example.com\"",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:191"
            },
            "result": {
              "status": "passed",
              "duration": 534916
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 12,
            "name": "I send the customer data to Segment Identify API",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 820791
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 13,
            "name": "the API call should succeed",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:365"
            },
            "result": {
              "status": "passed",
              "duration": 205375
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 14,
            "name": "the customer should be identified in Segment with userId \"user@example.com\"",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:372"
            },
            "result": {
              "status": "passed",
              "duration": 628791
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "segment-identify-api-integration;send-customer-data-with-email-as-userid",
        "keyword": "Scenario",
        "line": 16,
        "name": "Send customer data with email as userId",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 27582
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 3500
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the Segment client is initialized with write key from environment",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:173"
            },
            "result": {
              "status": "passed",
              "duration": 10708
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "transformed customer data is available",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:185"
            },
            "result": {
              "status": "passed",
              "duration": 6791
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 17,
            "name": "transformed customer data with email \"test@example.com\"",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:191"
            },
            "result": {
              "status": "passed",
              "duration": 173082
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 18,
            "name": "I send the customer data to Segment Identify API",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 71791
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 19,
            "name": "the API call should use email \"test@example.com\" as userId",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:395"
            },
            "result": {
              "status": "passed",
              "duration": 470958
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "segment-identify-api-integration;send-customer-data-with-email-trait",
        "keyword": "Scenario",
        "line": 21,
        "name": "Send customer data with email trait",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 9624
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 3416
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the Segment client is initialized with write key from environment",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:173"
            },
            "result": {
              "status": "passed",
              "duration": 12208
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "transformed customer data is available",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:185"
            },
            "result": {
              "status": "passed",
              "duration": 13208
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 22,
            "name": "transformed customer data with email \"user@example.com\"",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:191"
            },
            "result": {
              "status": "passed",
              "duration": 16833
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 23,
            "name": "I send the customer data to Segment Identify API",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 58250
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 24,
            "name": "the API call should include email \"user@example.com\" in traits",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:407"
            },
            "result": {
              "status": "passed",
              "duration": 470333
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "segment-identify-api-integration;send-customer-data-with-name-trait",
        "keyword": "Scenario",
        "line": 26,
        "name": "Send customer data with name trait",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 6499
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 2917
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the Segment client is initialized with write key from environment",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:173"
            },
            "result": {
              "status": "passed",
              "duration": 8375
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "transformed customer data is available",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:185"
            },
            "result": {
              "status": "passed",
              "duration": 5249
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "field",
                      "value"
                    ]
                  },
                  {
                    "cells": [
                      "email",
                      "user@example.com"
                    ]
                  },
                  {
                    "cells": [
                      "name",
                      "John Doe"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 27,
            "name": "transformed customer data with:",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:199"
            },
            "result": {
              "status": "passed",
              "duration": 296167
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 31,
            "name": "I send the customer data to Segment Identify API",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 67583
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 32,
            "name": "the API call should include name \"John Doe\" in traits",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:419"
            },
            "result": {
              "status": "passed",
              "duration": 435041
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "segment-identify-api-integration;send-customer-data-with-address-trait",
        "keyword": "Scenario",
        "line": 34,
        "name": "Send customer data with address trait",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 7125
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 2874
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the Segment client is initialized with write key from environment",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:173"
            },
            "result": {
              "status": "passed",
              "duration": 8500
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "transformed customer data is available",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:185"
            },
            "result": {
              "status": "passed",
              "duration": 5083
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "field",
                      "value"
                    ]
                  },
                  {
                    "cells": [
                      "email",
                      "user@example.com"
                    ]
                  },
                  {
                    "cells": [
                      "street",
                      "123 Main St"
                    ]
                  },
                  {
                    "cells": [
                      "city",
                      "New York"
                    ]
                  },
                  {
                    "cells": [
                      "postalCode",
                      "10001"
                    ]
                  },
                  {
                    "cells": [
                      "country",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 35,
            "name": "transformed customer data with:",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:199"
            },
            "result": {
              "status": "passed",
              "duration": 34415
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 42,
            "name": "I send the customer data to Segment Identify API",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 53000
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "street",
                      "city",
                      "postalCode",
                      "country"
                    ]
                  },
                  {
                    "cells": [
                      "123 Main St",
                      "New York",
                      "10001",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Then ",
            "line": 43,
            "name": "the API call should include address in traits:",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:431"
            },
            "result": {
              "status": "passed",
              "duration": 343374
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "segment-identify-api-integration;send-customer-data-with-all-traits-(email,-name,-address)",
        "keyword": "Scenario",
        "line": 47,
        "name": "Send customer data with all traits (email, name, address)",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 5458
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 2707
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the Segment client is initialized with write key from environment",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:173"
            },
            "result": {
              "status": "passed",
              "duration": 6915
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "transformed customer data is available",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:185"
            },
            "result": {
              "status": "passed",
              "duration": 4707
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "field",
                      "value"
                    ]
                  },
                  {
                    "cells": [
                      "email",
                      "user@example.com"
                    ]
                  },
                  {
                    "cells": [
                      "name",
                      "Jane Smith"
                    ]
                  },
                  {
                    "cells": [
                      "street",
                      "456 Oak Ave"
                    ]
                  },
                  {
                    "cells": [
                      "city",
                      "Los Angeles"
                    ]
                  },
                  {
                    "cells": [
                      "postalCode",
                      "90001"
                    ]
                  },
                  {
                    "cells": [
                      "country",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 48,
            "name": "transformed customer data with:",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:199"
            },
            "result": {
              "status": "passed",
              "duration": 27916
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 56,
            "name": "I send the customer data to Segment Identify API",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 44709
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 57,
            "name": "the API call should succeed",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:365"
            },
            "result": {
              "status": "passed",
              "duration": 20582
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 58,
            "name": "the API call should use email \"user@example.com\" as userId",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:395"
            },
            "result": {
              "status": "passed",
              "duration": 122832
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 59,
            "name": "the API call should include email \"user@example.com\" in traits",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:407"
            },
            "result": {
              "status": "passed",
              "duration": 122166
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 60,
            "name": "the API call should include name \"Jane Smith\" in traits",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:419"
            },
            "result": {
              "status": "passed",
              "duration": 232124
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "street",
                      "city",
                      "postalCode",
                      "country"
                    ]
                  },
                  {
                    "cells": [
                      "456 Oak Ave",
                      "Los Angeles",
                      "90001",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "And ",
            "line": 61,
            "name": "the API call should include address in traits:",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:431"
            },
            "result": {
              "status": "passed",
              "duration": 42332
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "segment-identify-api-integration;handle-successful-api-response",
        "keyword": "Scenario",
        "line": 65,
        "name": "Handle successful API response",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 6791
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 2624
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the Segment client is initialized with write key from environment",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:173"
            },
            "result": {
              "status": "passed",
              "duration": 8874
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "transformed customer data is available",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:185"
            },
            "result": {
              "status": "passed",
              "duration": 4834
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 66,
            "name": "transformed customer data with email \"user@example.com\"",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:191"
            },
            "result": {
              "status": "passed",
              "duration": 13542
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 67,
            "name": "I send the customer data to Segment Identify API",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 49041
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 68,
            "name": "the function should return success status",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:477"
            },
            "result": {
              "status": "passed",
              "duration": 276125
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 69,
            "name": "no error should be thrown",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:483"
            },
            "result": {
              "status": "passed",
              "duration": 147375
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "segment-identify-api-integration;handle-api-error-gracefully",
        "keyword": "Scenario",
        "line": 71,
        "name": "Handle API error gracefully",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 7250
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 2833
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the Segment client is initialized with write key from environment",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:173"
            },
            "result": {
              "status": "passed",
              "duration": 8667
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "transformed customer data is available",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:185"
            },
            "result": {
              "status": "passed",
              "duration": 5084
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 72,
            "name": "transformed customer data with email \"user@example.com\"",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:191"
            },
            "result": {
              "status": "passed",
              "duration": 14707
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 73,
            "name": "the Segment API will return an error",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:317"
            },
            "result": {
              "status": "passed",
              "duration": 203625
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 74,
            "name": "I send the customer data to Segment Identify API",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 743541
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 75,
            "name": "the function should return error status",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:489"
            },
            "result": {
              "status": "passed",
              "duration": 213332
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 76,
            "name": "the error should be handled gracefully",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:496"
            },
            "result": {
              "status": "passed",
              "duration": 171625
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "segment-identify-api-integration;send-customer.created-event-data-to-segment",
        "keyword": "Scenario",
        "line": 78,
        "name": "Send customer.created event data to Segment",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 6875
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 2707
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the Segment client is initialized with write key from environment",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:173"
            },
            "result": {
              "status": "passed",
              "duration": 8624
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "transformed customer data is available",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:185"
            },
            "result": {
              "status": "passed",
              "duration": 5417
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 79,
            "name": "transformed customer data from customer.created event with email \"newuser@example.com\"",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:299"
            },
            "result": {
              "status": "passed",
              "duration": 452457
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 80,
            "name": "I send the customer data to Segment Identify API",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 52832
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 81,
            "name": "the API call should succeed",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:365"
            },
            "result": {
              "status": "passed",
              "duration": 28459
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 82,
            "name": "the customer should be identified in Segment with userId \"newuser@example.com\"",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:372"
            },
            "result": {
              "status": "passed",
              "duration": 124749
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "segment-identify-api-integration;send-customer.updated-event-data-to-segment",
        "keyword": "Scenario",
        "line": 84,
        "name": "Send customer.updated event data to Segment",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 5709
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 2582
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the Segment client is initialized with write key from environment",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:173"
            },
            "result": {
              "status": "passed",
              "duration": 10084
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "transformed customer data is available",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:185"
            },
            "result": {
              "status": "passed",
              "duration": 4584
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 85,
            "name": "transformed customer data from customer.updated event with email \"existing@example.com\"",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:308"
            },
            "result": {
              "status": "passed",
              "duration": 445083
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 86,
            "name": "I send the customer data to Segment Identify API",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 58999
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 87,
            "name": "the API call should succeed",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:365"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 88,
            "name": "the customer should be identified in Segment with userId \"existing@example.com\"",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:372"
            },
            "result": {
              "status": "passed",
              "duration": 35125
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "segment-identify-api-integration;send-customer-data-with-different-email-addresses",
        "keyword": "Scenario Outline",
        "line": 98,
        "name": "Send customer data with different email addresses",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 9457
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 3333
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the Segment client is initialized with write key from environment",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:173"
            },
            "result": {
              "status": "passed",
              "duration": 10833
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "transformed customer data is available",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:185"
            },
            "result": {
              "status": "passed",
              "duration": 5458
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 91,
            "name": "transformed customer data with email \"user@example.com\"",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:191"
            },
            "result": {
              "status": "passed",
              "duration": 14333
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 92,
            "name": "I send the customer data to Segment Identify API",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 60292
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 93,
            "name": "the API call should use email \"user@example.com\" as userId",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:395"
            },
            "result": {
              "status": "passed",
              "duration": 32875
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 94,
            "name": "the API call should include email \"user@example.com\" in traits",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:407"
            },
            "result": {
              "status": "passed",
              "duration": 25832
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "segment-identify-api-integration;send-customer-data-with-different-email-addresses",
        "keyword": "Scenario Outline",
        "line": 99,
        "name": "Send customer data with different email addresses",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 8124
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 2791
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the Segment client is initialized with write key from environment",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:173"
            },
            "result": {
              "status": "passed",
              "duration": 8917
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "transformed customer data is available",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:185"
            },
            "result": {
              "status": "passed",
              "duration": 4916
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 91,
            "name": "transformed customer data with email \"test.user@domain.com\"",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:191"
            },
            "result": {
              "status": "passed",
              "duration": 15374
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 92,
            "name": "I send the customer data to Segment Identify API",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 51666
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 93,
            "name": "the API call should use email \"test.user@domain.com\" as userId",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:395"
            },
            "result": {
              "status": "passed",
              "duration": 31749
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 94,
            "name": "the API call should include email \"test.user@domain.com\" in traits",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:407"
            },
            "result": {
              "status": "passed",
              "duration": 23959
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "segment-identify-api-integration;send-customer-data-with-different-email-addresses",
        "keyword": "Scenario Outline",
        "line": 100,
        "name": "Send customer data with different email addresses",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 6791
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 2999
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the Segment client is initialized with write key from environment",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:173"
            },
            "result": {
              "status": "passed",
              "duration": 6750
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "transformed customer data is available",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:185"
            },
            "result": {
              "status": "passed",
              "duration": 4625
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 91,
            "name": "transformed customer data with email \"admin@company.org\"",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:191"
            },
            "result": {
              "status": "passed",
              "duration": 11959
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 92,
            "name": "I send the customer data to Segment Identify API",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 36291
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 93,
            "name": "the API call should use email \"admin@company.org\" as userId",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:395"
            },
            "result": {
              "status": "passed",
              "duration": 25832
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 94,
            "name": "the API call should include email \"admin@company.org\" in traits",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:407"
            },
            "result": {
              "status": "passed",
              "duration": 25792
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      }
    ],
    "id": "segment-identify-api-integration",
    "line": 1,
    "keyword": "Feature",
    "name": "Segment Identify API Integration",
    "tags": [],
    "uri": "features/story-4-segment-identify-api-integration.feature"
  },
  {
    "description": "  As a developer\n  I want to test the complete flow from Commercetools webhook to Segment user creation/update\n  So that I can verify the integration works correctly end-to-end",
    "elements": [
      {
        "description": "",
        "id": "end-to-end-integration-testing;complete-flow-for-customer.created-event-creates-user-in-segment",
        "keyword": "Scenario",
        "line": 11,
        "name": "Complete flow for customer.created event creates user in Segment",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 6416
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 2709
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 15208
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the Segment integration is configured with valid credentials",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:59"
            },
            "result": {
              "status": "passed",
              "duration": 250709
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "the data transformation service is available",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:68"
            },
            "result": {
              "status": "passed",
              "duration": 159040
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "field",
                      "value"
                    ]
                  },
                  {
                    "cells": [
                      "email",
                      "newuser@example.com"
                    ]
                  },
                  {
                    "cells": [
                      "firstName",
                      "John"
                    ]
                  },
                  {
                    "cells": [
                      "lastName",
                      "Doe"
                    ]
                  },
                  {
                    "cells": [
                      "street",
                      "123 Main St"
                    ]
                  },
                  {
                    "cells": [
                      "city",
                      "New York"
                    ]
                  },
                  {
                    "cells": [
                      "postalCode",
                      "10001"
                    ]
                  },
                  {
                    "cells": [
                      "country",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 12,
            "name": "a valid Commercetools customer.created webhook payload with:",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:126"
            },
            "result": {
              "status": "passed",
              "duration": 387707
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 21,
            "name": "I send the webhook payload to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:203"
            },
            "result": {
              "status": "passed",
              "duration": 1562256832
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 22,
            "name": "the webhook endpoint should return HTTP status 200",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:307"
            },
            "result": {
              "status": "passed",
              "duration": 2090374
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 23,
            "name": "the customer should be created in Segment with userId \"newuser@example.com\"",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 1545166
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 24,
            "name": "the customer in Segment should have email \"newuser@example.com\" in traits",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:354"
            },
            "result": {
              "status": "passed",
              "duration": 1402540
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 25,
            "name": "the customer in Segment should have name \"John Doe\" in traits",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:368"
            },
            "result": {
              "status": "passed",
              "duration": 3152874
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "street",
                      "city",
                      "postalCode",
                      "country"
                    ]
                  },
                  {
                    "cells": [
                      "123 Main St",
                      "New York",
                      "10001",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "And ",
            "line": 26,
            "name": "the customer in Segment should have address in traits:",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:388"
            },
            "result": {
              "status": "passed",
              "duration": 1162667
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "end-to-end-integration-testing;complete-flow-for-customer.updated-event-updates-user-in-segment",
        "keyword": "Scenario",
        "line": 30,
        "name": "Complete flow for customer.updated event updates user in Segment",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 36916
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 10999
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 84458
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the Segment integration is configured with valid credentials",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:59"
            },
            "result": {
              "status": "passed",
              "duration": 91166
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "the data transformation service is available",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:68"
            },
            "result": {
              "status": "passed",
              "duration": 19458
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "field",
                      "value"
                    ]
                  },
                  {
                    "cells": [
                      "email",
                      "existing@example.com"
                    ]
                  },
                  {
                    "cells": [
                      "firstName",
                      "Jane"
                    ]
                  },
                  {
                    "cells": [
                      "lastName",
                      "Smith"
                    ]
                  },
                  {
                    "cells": [
                      "street",
                      "456 Oak Ave"
                    ]
                  },
                  {
                    "cells": [
                      "city",
                      "Los Angeles"
                    ]
                  },
                  {
                    "cells": [
                      "postalCode",
                      "90001"
                    ]
                  },
                  {
                    "cells": [
                      "country",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 31,
            "name": "a valid Commercetools customer.updated webhook payload with:",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:164"
            },
            "result": {
              "status": "passed",
              "duration": 1071791
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 40,
            "name": "I send the webhook payload to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:203"
            },
            "result": {
              "status": "passed",
              "duration": 246709750
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 41,
            "name": "the webhook endpoint should return HTTP status 200",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:307"
            },
            "result": {
              "status": "passed",
              "duration": 405583
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 42,
            "name": "the customer should be updated in Segment with userId \"existing@example.com\"",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:339"
            },
            "result": {
              "status": "passed",
              "duration": 1800375
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 43,
            "name": "the customer in Segment should have email \"existing@example.com\" in traits",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:354"
            },
            "result": {
              "status": "passed",
              "duration": 425958
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 44,
            "name": "the customer in Segment should have name \"Jane Smith\" in traits",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:368"
            },
            "result": {
              "status": "passed",
              "duration": 448167
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "street",
                      "city",
                      "postalCode",
                      "country"
                    ]
                  },
                  {
                    "cells": [
                      "456 Oak Ave",
                      "Los Angeles",
                      "90001",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "And ",
            "line": 45,
            "name": "the customer in Segment should have address in traits:",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:388"
            },
            "result": {
              "status": "passed",
              "duration": 192667
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "end-to-end-integration-testing;user-is-identified-by-email-in-segment",
        "keyword": "Scenario",
        "line": 49,
        "name": "User is identified by email in Segment",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 94165
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 15625
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 147875
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the Segment integration is configured with valid credentials",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:59"
            },
            "result": {
              "status": "passed",
              "duration": 115333
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "the data transformation service is available",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:68"
            },
            "result": {
              "status": "passed",
              "duration": 24875
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 50,
            "name": "a valid Commercetools customer.created webhook payload with email \"user@example.com\"",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:102"
            },
            "result": {
              "status": "passed",
              "duration": 1700833
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 51,
            "name": "I send the webhook payload to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:203"
            },
            "result": {
              "status": "passed",
              "duration": 220631875
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 52,
            "name": "the webhook endpoint should return HTTP status 200",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:307"
            },
            "result": {
              "status": "passed",
              "duration": 162957
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 53,
            "name": "the customer should be identified in Segment with userId \"user@example.com\"",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:372"
            },
            "result": {
              "status": "passed",
              "duration": 2164584
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 54,
            "name": "the userId in Segment should match the email \"user@example.com\"",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:427"
            },
            "result": {
              "status": "passed",
              "duration": 4311750
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "end-to-end-integration-testing;all-three-fields-(email,-name,-address)-are-correctly-synced-to-segment",
        "keyword": "Scenario",
        "line": 56,
        "name": "All three fields (email, name, address) are correctly synced to Segment",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 57124
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 13458
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 115957
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the Segment integration is configured with valid credentials",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:59"
            },
            "result": {
              "status": "passed",
              "duration": 161207
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "the data transformation service is available",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:68"
            },
            "result": {
              "status": "passed",
              "duration": 26249
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "field",
                      "value"
                    ]
                  },
                  {
                    "cells": [
                      "email",
                      "complete@example.com"
                    ]
                  },
                  {
                    "cells": [
                      "firstName",
                      "Alice"
                    ]
                  },
                  {
                    "cells": [
                      "lastName",
                      "Johnson"
                    ]
                  },
                  {
                    "cells": [
                      "street",
                      "789 Pine Rd"
                    ]
                  },
                  {
                    "cells": [
                      "city",
                      "Chicago"
                    ]
                  },
                  {
                    "cells": [
                      "postalCode",
                      "60601"
                    ]
                  },
                  {
                    "cells": [
                      "country",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 57,
            "name": "a valid Commercetools customer.created webhook payload with:",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:126"
            },
            "result": {
              "status": "passed",
              "duration": 310291
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 66,
            "name": "I send the webhook payload to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:203"
            },
            "result": {
              "status": "passed",
              "duration": 384803417
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 67,
            "name": "the webhook endpoint should return HTTP status 200",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:307"
            },
            "result": {
              "status": "passed",
              "duration": 154291
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 68,
            "name": "the customer in Segment should have email \"complete@example.com\" in traits",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:354"
            },
            "result": {
              "status": "passed",
              "duration": 163750
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 69,
            "name": "the customer in Segment should have name \"Alice Johnson\" in traits",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:368"
            },
            "result": {
              "status": "passed",
              "duration": 113709
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "street",
                      "city",
                      "postalCode",
                      "country"
                    ]
                  },
                  {
                    "cells": [
                      "789 Pine Rd",
                      "Chicago",
                      "60601",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "And ",
            "line": 70,
            "name": "the customer in Segment should have address in traits:",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:388"
            },
            "result": {
              "status": "passed",
              "duration": 97124
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "end-to-end-integration-testing;complete-flow-processes-customer.created-event-end-to-end",
        "keyword": "Scenario",
        "line": 74,
        "name": "Complete flow processes customer.created event end-to-end",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 36916
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 11416
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 64917
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the Segment integration is configured with valid credentials",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:59"
            },
            "result": {
              "status": "passed",
              "duration": 87833
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "the data transformation service is available",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:68"
            },
            "result": {
              "status": "passed",
              "duration": 22500
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 75,
            "name": "a valid Commercetools customer.created webhook payload with email \"test@example.com\"",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:102"
            },
            "result": {
              "status": "passed",
              "duration": 482833
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 76,
            "name": "I send the webhook payload to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:203"
            },
            "result": {
              "status": "passed",
              "duration": 214403334
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 77,
            "name": "the webhook endpoint should return HTTP status 200",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:307"
            },
            "result": {
              "status": "passed",
              "duration": 307583
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 78,
            "name": "the response should indicate success",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:316"
            },
            "result": {
              "status": "passed",
              "duration": 1312084
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 79,
            "name": "the customer should appear in Segment",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:439"
            },
            "result": {
              "status": "passed",
              "duration": 2040084
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 80,
            "name": "the customer should be identified by email \"test@example.com\"",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:453"
            },
            "result": {
              "status": "passed",
              "duration": 1634916
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "end-to-end-integration-testing;complete-flow-processes-customer.updated-event-end-to-end",
        "keyword": "Scenario",
        "line": 82,
        "name": "Complete flow processes customer.updated event end-to-end",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 81417
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 11459
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 84875
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the Segment integration is configured with valid credentials",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:59"
            },
            "result": {
              "status": "passed",
              "duration": 126249
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "the data transformation service is available",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:68"
            },
            "result": {
              "status": "passed",
              "duration": 20750
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 83,
            "name": "a valid Commercetools customer.updated webhook payload with email \"update@example.com\"",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:114"
            },
            "result": {
              "status": "passed",
              "duration": 3731249
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 84,
            "name": "I send the webhook payload to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:203"
            },
            "result": {
              "status": "passed",
              "duration": 220386500
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 85,
            "name": "the webhook endpoint should return HTTP status 200",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:307"
            },
            "result": {
              "status": "passed",
              "duration": 133041
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 86,
            "name": "the response should indicate success",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:316"
            },
            "result": {
              "status": "passed",
              "duration": 101040
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 87,
            "name": "the customer should appear in Segment",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:439"
            },
            "result": {
              "status": "passed",
              "duration": 78875
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 88,
            "name": "the customer should be identified by email \"update@example.com\"",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:453"
            },
            "result": {
              "status": "passed",
              "duration": 258624
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "end-to-end-integration-testing;data-flows-correctly-from-webhook-through-transformation-to-segment",
        "keyword": "Scenario",
        "line": 90,
        "name": "Data flows correctly from webhook through transformation to Segment",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 19292
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 5292
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 27290
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the Segment integration is configured with valid credentials",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:59"
            },
            "result": {
              "status": "passed",
              "duration": 45875
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "the data transformation service is available",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:68"
            },
            "result": {
              "status": "passed",
              "duration": 13374
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "field",
                      "value"
                    ]
                  },
                  {
                    "cells": [
                      "email",
                      "flow@example.com"
                    ]
                  },
                  {
                    "cells": [
                      "firstName",
                      "Bob"
                    ]
                  },
                  {
                    "cells": [
                      "lastName",
                      "Williams"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 91,
            "name": "a valid Commercetools customer.created webhook payload with:",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:126"
            },
            "result": {
              "status": "passed",
              "duration": 64458
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 96,
            "name": "I send the webhook payload to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:203"
            },
            "result": {
              "status": "passed",
              "duration": 399596459
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 97,
            "name": "the webhook endpoint should return HTTP status 200",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:307"
            },
            "result": {
              "status": "passed",
              "duration": 239415
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 98,
            "name": "the customer data should be transformed correctly",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:466"
            },
            "result": {
              "status": "passed",
              "duration": 1670458
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 99,
            "name": "the transformed data should be sent to Segment",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:475"
            },
            "result": {
              "status": "passed",
              "duration": 982167
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 100,
            "name": "the customer should be created in Segment with userId \"flow@example.com\"",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 523207
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 101,
            "name": "the customer in Segment should have name \"Bob Williams\" in traits",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:368"
            },
            "result": {
              "status": "passed",
              "duration": 112791
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "end-to-end-integration-testing;complete-flow-works-with-different-customer-data-combinations",
        "keyword": "Scenario Outline",
        "line": 124,
        "name": "Complete flow works with different customer data combinations",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 40291
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 30792
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 146208
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the Segment integration is configured with valid credentials",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:59"
            },
            "result": {
              "status": "passed",
              "duration": 157750
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "the data transformation service is available",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:68"
            },
            "result": {
              "status": "passed",
              "duration": 46166
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "field",
                      "value"
                    ]
                  },
                  {
                    "cells": [
                      "email",
                      "user1@example.com"
                    ]
                  },
                  {
                    "cells": [
                      "firstName",
                      "John"
                    ]
                  },
                  {
                    "cells": [
                      "lastName",
                      "Doe"
                    ]
                  },
                  {
                    "cells": [
                      "street",
                      "123 Main St"
                    ]
                  },
                  {
                    "cells": [
                      "city",
                      "New York"
                    ]
                  },
                  {
                    "cells": [
                      "postalCode",
                      "10001"
                    ]
                  },
                  {
                    "cells": [
                      "country",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 104,
            "name": "a valid Commercetools customer.created webhook payload with:",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:126"
            },
            "result": {
              "status": "passed",
              "duration": 146874
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 113,
            "name": "I send the webhook payload to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:203"
            },
            "result": {
              "status": "passed",
              "duration": 208756667
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 114,
            "name": "the webhook endpoint should return HTTP status 200",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:307"
            },
            "result": {
              "status": "passed",
              "duration": 214500
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 115,
            "name": "the customer should be created in Segment with userId \"user1@example.com\"",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 168375
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 116,
            "name": "the customer in Segment should have email \"user1@example.com\" in traits",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:354"
            },
            "result": {
              "status": "passed",
              "duration": 523167
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 117,
            "name": "the customer in Segment should have name \"John Doe\" in traits",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:368"
            },
            "result": {
              "status": "passed",
              "duration": 304790
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "street",
                      "city",
                      "postalCode",
                      "country"
                    ]
                  },
                  {
                    "cells": [
                      "123 Main St",
                      "New York",
                      "10001",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "And ",
            "line": 118,
            "name": "the customer in Segment should have address in traits:",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:388"
            },
            "result": {
              "status": "passed",
              "duration": 256166
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "end-to-end-integration-testing;complete-flow-works-with-different-customer-data-combinations",
        "keyword": "Scenario Outline",
        "line": 125,
        "name": "Complete flow works with different customer data combinations",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 34165
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 14750
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 56500
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the Segment integration is configured with valid credentials",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:59"
            },
            "result": {
              "status": "passed",
              "duration": 189124
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "the data transformation service is available",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:68"
            },
            "result": {
              "status": "passed",
              "duration": 34958
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "field",
                      "value"
                    ]
                  },
                  {
                    "cells": [
                      "email",
                      "user2@example.com"
                    ]
                  },
                  {
                    "cells": [
                      "firstName",
                      "Jane"
                    ]
                  },
                  {
                    "cells": [
                      "lastName",
                      "Smith"
                    ]
                  },
                  {
                    "cells": [
                      "street",
                      "456 Oak Ave"
                    ]
                  },
                  {
                    "cells": [
                      "city",
                      "Los Angeles"
                    ]
                  },
                  {
                    "cells": [
                      "postalCode",
                      "90001"
                    ]
                  },
                  {
                    "cells": [
                      "country",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 104,
            "name": "a valid Commercetools customer.created webhook payload with:",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:126"
            },
            "result": {
              "status": "passed",
              "duration": 217875
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 113,
            "name": "I send the webhook payload to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:203"
            },
            "result": {
              "status": "passed",
              "duration": 211131290
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 114,
            "name": "the webhook endpoint should return HTTP status 200",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:307"
            },
            "result": {
              "status": "passed",
              "duration": 76166
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 115,
            "name": "the customer should be created in Segment with userId \"user2@example.com\"",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 69583
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 116,
            "name": "the customer in Segment should have email \"user2@example.com\" in traits",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:354"
            },
            "result": {
              "status": "passed",
              "duration": 32542
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 117,
            "name": "the customer in Segment should have name \"Jane Smith\" in traits",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:368"
            },
            "result": {
              "status": "passed",
              "duration": 43042
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "street",
                      "city",
                      "postalCode",
                      "country"
                    ]
                  },
                  {
                    "cells": [
                      "456 Oak Ave",
                      "Los Angeles",
                      "90001",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "And ",
            "line": 118,
            "name": "the customer in Segment should have address in traits:",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:388"
            },
            "result": {
              "status": "passed",
              "duration": 33916
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "end-to-end-integration-testing;complete-flow-works-with-different-customer-data-combinations",
        "keyword": "Scenario Outline",
        "line": 126,
        "name": "Complete flow works with different customer data combinations",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 18750
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 10459
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 37291
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the Segment integration is configured with valid credentials",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:59"
            },
            "result": {
              "status": "passed",
              "duration": 43125
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "the data transformation service is available",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:68"
            },
            "result": {
              "status": "passed",
              "duration": 7749
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "field",
                      "value"
                    ]
                  },
                  {
                    "cells": [
                      "email",
                      "user3@example.com"
                    ]
                  },
                  {
                    "cells": [
                      "firstName",
                      "Bob"
                    ]
                  },
                  {
                    "cells": [
                      "lastName",
                      "Jones"
                    ]
                  },
                  {
                    "cells": [
                      "street",
                      "789 Elm St"
                    ]
                  },
                  {
                    "cells": [
                      "city",
                      "Chicago"
                    ]
                  },
                  {
                    "cells": [
                      "postalCode",
                      "60601"
                    ]
                  },
                  {
                    "cells": [
                      "country",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 104,
            "name": "a valid Commercetools customer.created webhook payload with:",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:126"
            },
            "result": {
              "status": "passed",
              "duration": 72166
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 113,
            "name": "I send the webhook payload to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:203"
            },
            "result": {
              "status": "passed",
              "duration": 220074999
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 114,
            "name": "the webhook endpoint should return HTTP status 200",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:307"
            },
            "result": {
              "status": "passed",
              "duration": 125667
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 115,
            "name": "the customer should be created in Segment with userId \"user3@example.com\"",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 100707
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 116,
            "name": "the customer in Segment should have email \"user3@example.com\" in traits",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:354"
            },
            "result": {
              "status": "passed",
              "duration": 70792
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 117,
            "name": "the customer in Segment should have name \"Bob Jones\" in traits",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:368"
            },
            "result": {
              "status": "passed",
              "duration": 79707
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "street",
                      "city",
                      "postalCode",
                      "country"
                    ]
                  },
                  {
                    "cells": [
                      "789 Elm St",
                      "Chicago",
                      "60601",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "And ",
            "line": 118,
            "name": "the customer in Segment should have address in traits:",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:388"
            },
            "result": {
              "status": "passed",
              "duration": 80249
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "end-to-end-integration-testing;integration-can-be-tested-locally",
        "keyword": "Scenario",
        "line": 128,
        "name": "Integration can be tested locally",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 20625
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 6291
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 24249
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the Segment integration is configured with valid credentials",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:59"
            },
            "result": {
              "status": "passed",
              "duration": 197334
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "the data transformation service is available",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:68"
            },
            "result": {
              "status": "passed",
              "duration": 25083
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 129,
            "name": "the application is running locally",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:74"
            },
            "result": {
              "status": "passed",
              "duration": 647750
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 130,
            "name": "a valid Commercetools customer.created webhook payload with email \"local@example.com\"",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:102"
            },
            "result": {
              "status": "passed",
              "duration": 107624
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 131,
            "name": "I send the webhook payload to the local webhook endpoint",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:239"
            },
            "result": {
              "status": "failed",
              "duration": 3051250,
              "error_message": "Error: Failed to send webhook request to local endpoint: Network error while sending webhook to http://localhost:3000/api/webhook: fetch failed\n    at World.<anonymous> (/Users/joern/work/commercetools-to-segment/tests/steps/story-5-end-to-end-integration.steps.ts:255:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 132,
            "name": "the webhook endpoint should return HTTP status 200",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:307"
            },
            "result": {
              "status": "skipped",
              "duration": 0
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 133,
            "name": "the customer should be created in Segment with userId \"local@example.com\"",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:327"
            },
            "result": {
              "status": "skipped",
              "duration": 0
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "end-to-end-integration-testing;integration-can-be-tested-on-vercel",
        "keyword": "Scenario",
        "line": 135,
        "name": "Integration can be tested on Vercel",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 16042
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 6083
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 25875
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the Segment integration is configured with valid credentials",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:59"
            },
            "result": {
              "status": "passed",
              "duration": 52957
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "the data transformation service is available",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:68"
            },
            "result": {
              "status": "passed",
              "duration": 14832
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 136,
            "name": "the application is deployed on Vercel",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:83"
            },
            "result": {
              "status": "passed",
              "duration": 378874
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 137,
            "name": "a valid Commercetools customer.created webhook payload with email \"vercel@example.com\"",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:102"
            },
            "result": {
              "status": "passed",
              "duration": 52791
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 138,
            "name": "I send the webhook payload to the Vercel webhook endpoint",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:262"
            },
            "result": {
              "status": "passed",
              "duration": 236542749
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 139,
            "name": "the webhook endpoint should return HTTP status 200",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:307"
            },
            "result": {
              "status": "passed",
              "duration": 290083
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 140,
            "name": "the customer should be created in Segment with userId \"vercel@example.com\"",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 247749
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      }
    ],
    "id": "end-to-end-integration-testing",
    "line": 1,
    "keyword": "Feature",
    "name": "End-to-End Integration Testing",
    "tags": [],
    "uri": "features/story-5-end-to-end-integration.feature"
  }
]