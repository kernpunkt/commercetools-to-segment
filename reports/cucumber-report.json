[
  {
    "description": "  As a developer\n  I want to use logging functionality in my application\n  So that I can track application behavior and debug issues",
    "elements": [
      {
        "description": "",
        "id": "application-logging-behavior;log-application-startup",
        "keyword": "Scenario",
        "line": 9,
        "name": "Log application startup",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 179624
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 21583
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the application is running",
            "match": {
              "location": "tests/steps/application-logging.steps.ts:8"
            },
            "result": {
              "status": "passed",
              "duration": 2265291
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 10,
            "name": "the application starts",
            "match": {
              "location": "tests/steps/application-logging.steps.ts:12"
            },
            "result": {
              "status": "passed",
              "duration": 2168083
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 11,
            "name": "the application should log startup information",
            "match": {
              "location": "tests/steps/application-logging.steps.ts:17"
            },
            "result": {
              "status": "passed",
              "duration": 1336541
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 12,
            "name": "the log level should be appropriate for startup",
            "match": {
              "location": "tests/steps/application-logging.steps.ts:22"
            },
            "result": {
              "status": "passed",
              "duration": 555457
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "application-logging-behavior;log-user-authentication",
        "keyword": "Scenario",
        "line": 14,
        "name": "Log user authentication",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 18416
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 10249
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the application is running",
            "match": {
              "location": "tests/steps/application-logging.steps.ts:8"
            },
            "result": {
              "status": "passed",
              "duration": 26916
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 15,
            "name": "a user attempts to log in",
            "match": {
              "location": "tests/steps/application-logging.steps.ts:27"
            },
            "result": {
              "status": "passed",
              "duration": 295542
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 16,
            "name": "the authentication is successful",
            "match": {
              "location": "tests/steps/application-logging.steps.ts:32"
            },
            "result": {
              "status": "passed",
              "duration": 374416
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 17,
            "name": "the application should log the successful authentication",
            "match": {
              "location": "tests/steps/application-logging.steps.ts:37"
            },
            "result": {
              "status": "passed",
              "duration": 418000
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 18,
            "name": "the log should include user information",
            "match": {
              "location": "tests/steps/application-logging.steps.ts:42"
            },
            "result": {
              "status": "passed",
              "duration": 338916
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "application-logging-behavior;log-error-conditions",
        "keyword": "Scenario",
        "line": 20,
        "name": "Log error conditions",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 12416
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 7292
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the application is running",
            "match": {
              "location": "tests/steps/application-logging.steps.ts:8"
            },
            "result": {
              "status": "passed",
              "duration": 28208
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 21,
            "name": "an error occurs in the application",
            "match": {
              "location": "tests/steps/application-logging.steps.ts:48"
            },
            "result": {
              "status": "passed",
              "duration": 371959
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 22,
            "name": "the application should log the error",
            "match": {
              "location": "tests/steps/application-logging.steps.ts:53"
            },
            "result": {
              "status": "passed",
              "duration": 336542
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 23,
            "name": "the log should include error details",
            "match": {
              "location": "tests/steps/application-logging.steps.ts:58"
            },
            "result": {
              "status": "passed",
              "duration": 537041
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 24,
            "name": "the log level should indicate an error",
            "match": {
              "location": "tests/steps/application-logging.steps.ts:64"
            },
            "result": {
              "status": "passed",
              "duration": 311083
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "application-logging-behavior;log-performance-warnings",
        "keyword": "Scenario",
        "line": 26,
        "name": "Log performance warnings",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 13874
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 4958
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the application is running",
            "match": {
              "location": "tests/steps/application-logging.steps.ts:8"
            },
            "result": {
              "status": "passed",
              "duration": 11458
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 27,
            "name": "system performance degrades",
            "match": {
              "location": "tests/steps/application-logging.steps.ts:69"
            },
            "result": {
              "status": "passed",
              "duration": 291708
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 28,
            "name": "the application should log performance warnings",
            "match": {
              "location": "tests/steps/application-logging.steps.ts:74"
            },
            "result": {
              "status": "passed",
              "duration": 264291
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 29,
            "name": "the log should include performance metrics",
            "match": {
              "location": "tests/steps/application-logging.steps.ts:79"
            },
            "result": {
              "status": "passed",
              "duration": 254457
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      }
    ],
    "id": "application-logging-behavior",
    "line": 1,
    "keyword": "Feature",
    "name": "Application logging behavior",
    "tags": [],
    "uri": "features/application-logging.feature"
  },
  {
    "description": "  As a developer\n  I want a webhook endpoint that receives POST requests from Commercetools subscription API\n  So that I can process customer.created and customer.updated events",
    "elements": [
      {
        "description": "",
        "id": "webhook-endpoint-for-commercetools-events;accept-valid-customer.created-event",
        "keyword": "Scenario",
        "line": 9,
        "name": "Accept valid customer.created event",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 13542
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 5457
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 1878749
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 10,
            "name": "a valid Commercetools customer.created webhook payload",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:142"
            },
            "result": {
              "status": "passed",
              "duration": 355542
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 11,
            "name": "I send a POST request to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:198"
            },
            "result": {
              "status": "passed",
              "duration": 563077667
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 12,
            "name": "the endpoint should return HTTP status 200",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:216"
            },
            "result": {
              "status": "passed",
              "duration": 2683499
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 13,
            "name": "the endpoint should identify the event as customer.created",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:223"
            },
            "result": {
              "status": "passed",
              "duration": 1248542
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "webhook-endpoint-for-commercetools-events;accept-valid-customer.updated-event",
        "keyword": "Scenario",
        "line": 15,
        "name": "Accept valid customer.updated event",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 52041
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 18249
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 362708
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 16,
            "name": "a valid Commercetools customer.updated webhook payload",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:150"
            },
            "result": {
              "status": "passed",
              "duration": 813582
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 17,
            "name": "I send a POST request to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:198"
            },
            "result": {
              "status": "passed",
              "duration": 174859750
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 18,
            "name": "the endpoint should return HTTP status 200",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:216"
            },
            "result": {
              "status": "passed",
              "duration": 270792
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 19,
            "name": "the endpoint should identify the event as customer.updated",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:223"
            },
            "result": {
              "status": "passed",
              "duration": 188875
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "webhook-endpoint-for-commercetools-events;reject-non-post-requests",
        "keyword": "Scenario",
        "line": 21,
        "name": "Reject non-POST requests",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 19457
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 7458
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 51207
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 22,
            "name": "a valid Commercetools webhook payload",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:158"
            },
            "result": {
              "status": "passed",
              "duration": 555792
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 23,
            "name": "I send a GET request to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:198"
            },
            "result": {
              "status": "passed",
              "duration": 115375
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 24,
            "name": "the endpoint should return HTTP status 400",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:216"
            },
            "result": {
              "status": "passed",
              "duration": 51458
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "webhook-endpoint-for-commercetools-events;reject-invalid-request-methods",
        "keyword": "Scenario Outline",
        "line": 33,
        "name": "Reject invalid request methods",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 49542
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 9458
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 55499
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 27,
            "name": "a valid Commercetools webhook payload",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:158"
            },
            "result": {
              "status": "passed",
              "duration": 26583
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 28,
            "name": "I send a GET request to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:198"
            },
            "result": {
              "status": "passed",
              "duration": 96332
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 29,
            "name": "the endpoint should return HTTP status 400",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:216"
            },
            "result": {
              "status": "passed",
              "duration": 69542
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "webhook-endpoint-for-commercetools-events;reject-invalid-request-methods",
        "keyword": "Scenario Outline",
        "line": 34,
        "name": "Reject invalid request methods",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 41292
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 17832
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 181458
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 27,
            "name": "a valid Commercetools webhook payload",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:158"
            },
            "result": {
              "status": "passed",
              "duration": 38540
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 28,
            "name": "I send a PUT request to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:198"
            },
            "result": {
              "status": "passed",
              "duration": 85792
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 29,
            "name": "the endpoint should return HTTP status 400",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:216"
            },
            "result": {
              "status": "passed",
              "duration": 58750
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "webhook-endpoint-for-commercetools-events;reject-invalid-request-methods",
        "keyword": "Scenario Outline",
        "line": 35,
        "name": "Reject invalid request methods",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 16375
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 9250
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 35333
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 27,
            "name": "a valid Commercetools webhook payload",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:158"
            },
            "result": {
              "status": "passed",
              "duration": 21375
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 28,
            "name": "I send a DELETE request to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:198"
            },
            "result": {
              "status": "passed",
              "duration": 67375
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 29,
            "name": "the endpoint should return HTTP status 400",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:216"
            },
            "result": {
              "status": "passed",
              "duration": 58833
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "webhook-endpoint-for-commercetools-events;reject-invalid-request-methods",
        "keyword": "Scenario Outline",
        "line": 36,
        "name": "Reject invalid request methods",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 13707
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 4667
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 24124
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 27,
            "name": "a valid Commercetools webhook payload",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:158"
            },
            "result": {
              "status": "passed",
              "duration": 15916
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 28,
            "name": "I send a PATCH request to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:198"
            },
            "result": {
              "status": "passed",
              "duration": 55166
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 29,
            "name": "the endpoint should return HTTP status 400",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:216"
            },
            "result": {
              "status": "passed",
              "duration": 41917
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "webhook-endpoint-for-commercetools-events;reject-request-with-missing-body",
        "keyword": "Scenario",
        "line": 38,
        "name": "Reject request with missing body",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 15750
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 5540
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 34625
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 39,
            "name": "no request body is provided",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:167"
            },
            "result": {
              "status": "passed",
              "duration": 348291
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 40,
            "name": "I send a POST request to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:198"
            },
            "result": {
              "status": "passed",
              "duration": 72083
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 41,
            "name": "the endpoint should return HTTP status 400",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:216"
            },
            "result": {
              "status": "passed",
              "duration": 49083
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "webhook-endpoint-for-commercetools-events;reject-request-with-invalid-json",
        "keyword": "Scenario",
        "line": 43,
        "name": "Reject request with invalid JSON",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 8874
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 4916
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 24249
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 44,
            "name": "an invalid JSON payload",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:174"
            },
            "result": {
              "status": "passed",
              "duration": 252542
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 45,
            "name": "I send a POST request to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:198"
            },
            "result": {
              "status": "passed",
              "duration": 146917
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 46,
            "name": "the endpoint should return HTTP status 400",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:216"
            },
            "result": {
              "status": "passed",
              "duration": 44333
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "webhook-endpoint-for-commercetools-events;reject-request-with-malformed-payload-structure",
        "keyword": "Scenario",
        "line": 48,
        "name": "Reject request with malformed payload structure",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 11917
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 4750
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 32208
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 49,
            "name": "a JSON payload with missing required fields",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:181"
            },
            "result": {
              "status": "passed",
              "duration": 414875
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 50,
            "name": "I send a POST request to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:198"
            },
            "result": {
              "status": "passed",
              "duration": 91791
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 51,
            "name": "the endpoint should return HTTP status 400",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:216"
            },
            "result": {
              "status": "passed",
              "duration": 47332
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      }
    ],
    "id": "webhook-endpoint-for-commercetools-events",
    "line": 1,
    "keyword": "Feature",
    "name": "Webhook Endpoint for Commercetools Events",
    "tags": [],
    "uri": "features/story-2-webhook-endpoint.feature"
  },
  {
    "description": "  As a developer\n  I want to transform Commercetools customer data into Segment Identify API format\n  So that I can send properly formatted data to Segment",
    "elements": [
      {
        "description": "",
        "id": "customer-data-transformation;transform-customer-with-email-to-segment-format",
        "keyword": "Scenario",
        "line": 9,
        "name": "Transform customer with email to Segment format",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 16750
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 5916
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a transformation function is available",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:106"
            },
            "result": {
              "status": "passed",
              "duration": 487292
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 10,
            "name": "a Commercetools customer payload with email \"user@example.com\"",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:113"
            },
            "result": {
              "status": "passed",
              "duration": 1016875
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 11,
            "name": "I transform the customer data to Segment format",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:350"
            },
            "result": {
              "status": "passed",
              "duration": 390625
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 12,
            "name": "the transformed data should have userId \"user@example.com\"",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:368"
            },
            "result": {
              "status": "passed",
              "duration": 769666
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 13,
            "name": "the transformed data should have email \"user@example.com\" in traits",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:377"
            },
            "result": {
              "status": "passed",
              "duration": 721000
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-data-transformation;transform-customer-with-first-name-and-last-name",
        "keyword": "Scenario",
        "line": 15,
        "name": "Transform customer with first name and last name",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 10917
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 12999
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a transformation function is available",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:106"
            },
            "result": {
              "status": "passed",
              "duration": 41334
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 16,
            "name": "a Commercetools customer payload with first name \"John\" and last name \"Doe\"",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:121"
            },
            "result": {
              "status": "passed",
              "duration": 1427500
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 17,
            "name": "I transform the customer data to Segment format",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:350"
            },
            "result": {
              "status": "passed",
              "duration": 69250
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 18,
            "name": "the transformed data should have name \"John Doe\" in traits",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:386"
            },
            "result": {
              "status": "passed",
              "duration": 918542
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-data-transformation;transform-customer-with-full-name",
        "keyword": "Scenario",
        "line": 20,
        "name": "Transform customer with full name",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 5042
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a transformation function is available",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:106"
            },
            "result": {
              "status": "passed",
              "duration": 47332
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 21,
            "name": "a Commercetools customer payload with full name \"Jane Smith\"",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:129"
            },
            "result": {
              "status": "passed",
              "duration": 1493874
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 22,
            "name": "I transform the customer data to Segment format",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:350"
            },
            "result": {
              "status": "passed",
              "duration": 24499
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 23,
            "name": "the transformed data should have name \"Jane Smith\" in traits",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:386"
            },
            "result": {
              "status": "passed",
              "duration": 200209
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-data-transformation;transform-customer-with-complete-address",
        "keyword": "Scenario",
        "line": 25,
        "name": "Transform customer with complete address",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 4333
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a transformation function is available",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:106"
            },
            "result": {
              "status": "passed",
              "duration": 38541
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "street",
                      "city",
                      "postalCode",
                      "country"
                    ]
                  },
                  {
                    "cells": [
                      "123 Main St",
                      "New York",
                      "10001",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 26,
            "name": "a Commercetools customer payload with address:",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:137"
            },
            "result": {
              "status": "passed",
              "duration": 455333
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 29,
            "name": "I transform the customer data to Segment format",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:350"
            },
            "result": {
              "status": "passed",
              "duration": 120541
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "street",
                      "city",
                      "postalCode",
                      "country"
                    ]
                  },
                  {
                    "cells": [
                      "123 Main St",
                      "New York",
                      "10001",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Then ",
            "line": 30,
            "name": "the transformed data should have address in traits:",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:395"
            },
            "result": {
              "status": "passed",
              "duration": 483749
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-data-transformation;transform-customer-with-all-fields-(email,-name,-address)",
        "keyword": "Scenario",
        "line": 34,
        "name": "Transform customer with all fields (email, name, address)",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 15750
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 4500
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a transformation function is available",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:106"
            },
            "result": {
              "status": "passed",
              "duration": 64708
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "field",
                      "value"
                    ]
                  },
                  {
                    "cells": [
                      "email",
                      "user@example.com"
                    ]
                  },
                  {
                    "cells": [
                      "firstName",
                      "John"
                    ]
                  },
                  {
                    "cells": [
                      "lastName",
                      "Doe"
                    ]
                  },
                  {
                    "cells": [
                      "street",
                      "123 Main St"
                    ]
                  },
                  {
                    "cells": [
                      "city",
                      "New York"
                    ]
                  },
                  {
                    "cells": [
                      "postalCode",
                      "10001"
                    ]
                  },
                  {
                    "cells": [
                      "country",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 35,
            "name": "a Commercetools customer payload with:",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:177"
            },
            "result": {
              "status": "passed",
              "duration": 386500
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 44,
            "name": "I transform the customer data to Segment format",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:350"
            },
            "result": {
              "status": "passed",
              "duration": 29083
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 45,
            "name": "the transformed data should have userId \"user@example.com\"",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:368"
            },
            "result": {
              "status": "passed",
              "duration": 246582
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 46,
            "name": "the transformed data should have email \"user@example.com\" in traits",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:377"
            },
            "result": {
              "status": "passed",
              "duration": 284375
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 47,
            "name": "the transformed data should have name \"John Doe\" in traits",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:386"
            },
            "result": {
              "status": "passed",
              "duration": 34333
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "street",
                      "city",
                      "postalCode",
                      "country"
                    ]
                  },
                  {
                    "cells": [
                      "123 Main St",
                      "New York",
                      "10001",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "And ",
            "line": 48,
            "name": "the transformed data should have address in traits:",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:395"
            },
            "result": {
              "status": "passed",
              "duration": 58958
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-data-transformation;handle-missing-email-field-gracefully",
        "keyword": "Scenario",
        "line": 52,
        "name": "Handle missing email field gracefully",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 43209
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 15124
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a transformation function is available",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:106"
            },
            "result": {
              "status": "passed",
              "duration": 135166
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 53,
            "name": "a Commercetools customer payload without email",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:281"
            },
            "result": {
              "status": "passed",
              "duration": 1566583
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 54,
            "name": "I transform the customer data to Segment format",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:350"
            },
            "result": {
              "status": "passed",
              "duration": 394957
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 55,
            "name": "the transformation should complete without error",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:437"
            },
            "result": {
              "status": "passed",
              "duration": 543207
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 56,
            "name": "the transformed data should not have email in traits",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:443"
            },
            "result": {
              "status": "passed",
              "duration": 600415
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-data-transformation;handle-missing-name-fields-gracefully",
        "keyword": "Scenario",
        "line": 58,
        "name": "Handle missing name fields gracefully",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 40916
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 13040
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a transformation function is available",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:106"
            },
            "result": {
              "status": "passed",
              "duration": 109999
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 59,
            "name": "a Commercetools customer payload without name fields",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:286"
            },
            "result": {
              "status": "passed",
              "duration": 576167
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 60,
            "name": "I transform the customer data to Segment format",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:350"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 61,
            "name": "the transformation should complete without error",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:437"
            },
            "result": {
              "status": "passed",
              "duration": 42958
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 62,
            "name": "the transformed data should not have name in traits",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:462"
            },
            "result": {
              "status": "passed",
              "duration": 396458
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-data-transformation;handle-missing-address-fields-gracefully",
        "keyword": "Scenario",
        "line": 64,
        "name": "Handle missing address fields gracefully",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 17374
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 6124
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a transformation function is available",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:106"
            },
            "result": {
              "status": "passed",
              "duration": 61665
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 65,
            "name": "a Commercetools customer payload without address fields",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:291"
            },
            "result": {
              "status": "passed",
              "duration": 400750
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 66,
            "name": "I transform the customer data to Segment format",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:350"
            },
            "result": {
              "status": "passed",
              "duration": 18666
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 67,
            "name": "the transformation should complete without error",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:437"
            },
            "result": {
              "status": "passed",
              "duration": 33916
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 68,
            "name": "the transformed data should not have address in traits",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:468"
            },
            "result": {
              "status": "passed",
              "duration": 356917
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-data-transformation;handle-null-email-field-gracefully",
        "keyword": "Scenario",
        "line": 70,
        "name": "Handle null email field gracefully",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 16917
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 4417
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a transformation function is available",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:106"
            },
            "result": {
              "status": "passed",
              "duration": 52500
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 71,
            "name": "a Commercetools customer payload with null email",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:296"
            },
            "result": {
              "status": "passed",
              "duration": 304333
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 72,
            "name": "I transform the customer data to Segment format",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:350"
            },
            "result": {
              "status": "passed",
              "duration": 14999
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 73,
            "name": "the transformation should complete without error",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:437"
            },
            "result": {
              "status": "passed",
              "duration": 23500
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 74,
            "name": "the transformed data should not have email in traits",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:443"
            },
            "result": {
              "status": "passed",
              "duration": 14832
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-data-transformation;handle-null-name-fields-gracefully",
        "keyword": "Scenario",
        "line": 76,
        "name": "Handle null name fields gracefully",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 11582
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 3124
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a transformation function is available",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:106"
            },
            "result": {
              "status": "passed",
              "duration": 127874
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 77,
            "name": "a Commercetools customer payload with null name fields",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:304"
            },
            "result": {
              "status": "passed",
              "duration": 330290
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 78,
            "name": "I transform the customer data to Segment format",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:350"
            },
            "result": {
              "status": "passed",
              "duration": 12458
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 79,
            "name": "the transformation should complete without error",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:437"
            },
            "result": {
              "status": "passed",
              "duration": 23042
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 80,
            "name": "the transformed data should not have name in traits",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:462"
            },
            "result": {
              "status": "passed",
              "duration": 30083
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-data-transformation;handle-null-address-fields-gracefully",
        "keyword": "Scenario",
        "line": 82,
        "name": "Handle null address fields gracefully",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 8833
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 3249
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a transformation function is available",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:106"
            },
            "result": {
              "status": "passed",
              "duration": 26292
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 83,
            "name": "a Commercetools customer payload with null address fields",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:314"
            },
            "result": {
              "status": "passed",
              "duration": 266750
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 84,
            "name": "I transform the customer data to Segment format",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:350"
            },
            "result": {
              "status": "passed",
              "duration": 7458
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 85,
            "name": "the transformation should complete without error",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:437"
            },
            "result": {
              "status": "passed",
              "duration": 18500
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 86,
            "name": "the transformed data should not have address in traits",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:468"
            },
            "result": {
              "status": "passed",
              "duration": 18958
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-data-transformation;handle-partial-address-fields",
        "keyword": "Scenario",
        "line": 88,
        "name": "Handle partial address fields",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 12041
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 4082
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a transformation function is available",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:106"
            },
            "result": {
              "status": "passed",
              "duration": 34040
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "street",
                      "city"
                    ]
                  },
                  {
                    "cells": [
                      "123 Main St",
                      "New York"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 89,
            "name": "a Commercetools customer payload with partial address:",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:322"
            },
            "result": {
              "status": "passed",
              "duration": 317208
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 92,
            "name": "I transform the customer data to Segment format",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:350"
            },
            "result": {
              "status": "passed",
              "duration": 31041
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "street",
                      "city"
                    ]
                  },
                  {
                    "cells": [
                      "123 Main St",
                      "New York"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Then ",
            "line": 93,
            "name": "the transformed data should have address in traits:",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:395"
            },
            "result": {
              "status": "passed",
              "duration": 41292
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 96,
            "name": "the transformed data address should not have postalCode",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:474"
            },
            "result": {
              "status": "passed",
              "duration": 248749
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 97,
            "name": "the transformed data address should not have country",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:485"
            },
            "result": {
              "status": "passed",
              "duration": 235875
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-data-transformation;transform-returns-segment-identify-api-compatible-structure",
        "keyword": "Scenario",
        "line": 99,
        "name": "Transform returns Segment Identify API compatible structure",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 7542
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 3042
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a transformation function is available",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:106"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 100,
            "name": "a Commercetools customer payload with email \"test@example.com\"",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:113"
            },
            "result": {
              "status": "passed",
              "duration": 122916
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 101,
            "name": "I transform the customer data to Segment format",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:350"
            },
            "result": {
              "status": "passed",
              "duration": 9167
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 102,
            "name": "the transformed data should have structure compatible with Segment Identify API",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:492"
            },
            "result": {
              "status": "passed",
              "duration": 663332
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 103,
            "name": "the transformed data should have userId field",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:503"
            },
            "result": {
              "status": "passed",
              "duration": 226167
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 104,
            "name": "the transformed data should have traits field",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:510"
            },
            "result": {
              "status": "passed",
              "duration": 253791
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 105,
            "name": "the transformed data traits should have email field",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:517"
            },
            "result": {
              "status": "passed",
              "duration": 236333
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-data-transformation;transform-customer-with-different-name-combinations",
        "keyword": "Scenario Outline",
        "line": 116,
        "name": "Transform customer with different name combinations",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 7250
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 2999
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a transformation function is available",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:106"
            },
            "result": {
              "status": "passed",
              "duration": 18917
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "firstName",
                      "lastName",
                      "fullName"
                    ]
                  },
                  {
                    "cells": [
                      "John",
                      "Doe",
                      ""
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 108,
            "name": "a Commercetools customer payload with:",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:177"
            },
            "result": {
              "status": "passed",
              "duration": 15167
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 111,
            "name": "I transform the customer data to Segment format",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:350"
            },
            "result": {
              "status": "passed",
              "duration": 10874
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 112,
            "name": "the transformed data should have name \"John Doe\" in traits",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:386"
            },
            "result": {
              "status": "passed",
              "duration": 26583
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-data-transformation;transform-customer-with-different-name-combinations",
        "keyword": "Scenario Outline",
        "line": 117,
        "name": "Transform customer with different name combinations",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 11166
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 3750
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a transformation function is available",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:106"
            },
            "result": {
              "status": "passed",
              "duration": 31583
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "firstName",
                      "lastName",
                      "fullName"
                    ]
                  },
                  {
                    "cells": [
                      "Jane",
                      "",
                      ""
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 108,
            "name": "a Commercetools customer payload with:",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:177"
            },
            "result": {
              "status": "passed",
              "duration": 14541
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 111,
            "name": "I transform the customer data to Segment format",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:350"
            },
            "result": {
              "status": "passed",
              "duration": 8958
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 112,
            "name": "the transformed data should have name \"Jane\" in traits",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:386"
            },
            "result": {
              "status": "passed",
              "duration": 29167
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-data-transformation;transform-customer-with-different-name-combinations",
        "keyword": "Scenario Outline",
        "line": 118,
        "name": "Transform customer with different name combinations",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 8707
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 2874
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a transformation function is available",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:106"
            },
            "result": {
              "status": "passed",
              "duration": 26124
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "firstName",
                      "lastName",
                      "fullName"
                    ]
                  },
                  {
                    "cells": [
                      "",
                      "Smith",
                      ""
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 108,
            "name": "a Commercetools customer payload with:",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:177"
            },
            "result": {
              "status": "passed",
              "duration": 80458
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 111,
            "name": "I transform the customer data to Segment format",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:350"
            },
            "result": {
              "status": "passed",
              "duration": 18291
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 112,
            "name": "the transformed data should have name \"Smith\" in traits",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:386"
            },
            "result": {
              "status": "passed",
              "duration": 31124
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-data-transformation;transform-customer-with-different-name-combinations",
        "keyword": "Scenario Outline",
        "line": 119,
        "name": "Transform customer with different name combinations",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 8459
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 3041
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a transformation function is available",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:106"
            },
            "result": {
              "status": "passed",
              "duration": 23999
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "firstName",
                      "lastName",
                      "fullName"
                    ]
                  },
                  {
                    "cells": [
                      "",
                      "",
                      "John Doe"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 108,
            "name": "a Commercetools customer payload with:",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:177"
            },
            "result": {
              "status": "passed",
              "duration": 17291
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 111,
            "name": "I transform the customer data to Segment format",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:350"
            },
            "result": {
              "status": "passed",
              "duration": 8082
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 112,
            "name": "the transformed data should have name \"John Doe\" in traits",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:386"
            },
            "result": {
              "status": "passed",
              "duration": 27583
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-data-transformation;transform-customer-with-different-name-combinations",
        "keyword": "Scenario Outline",
        "line": 120,
        "name": "Transform customer with different name combinations",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 6707
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 2749
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a transformation function is available",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:106"
            },
            "result": {
              "status": "passed",
              "duration": 20207
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "firstName",
                      "lastName",
                      "fullName"
                    ]
                  },
                  {
                    "cells": [
                      "John",
                      "Doe",
                      "Jane Smith"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 108,
            "name": "a Commercetools customer payload with:",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:177"
            },
            "result": {
              "status": "passed",
              "duration": 10667
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 111,
            "name": "I transform the customer data to Segment format",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:350"
            },
            "result": {
              "status": "passed",
              "duration": 8958
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 112,
            "name": "the transformed data should have name \"Jane Smith\" in traits",
            "match": {
              "location": "tests/steps/story-3-customer-data-transformation.steps.ts:386"
            },
            "result": {
              "status": "passed",
              "duration": 21375
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      }
    ],
    "id": "customer-data-transformation",
    "line": 1,
    "keyword": "Feature",
    "name": "Customer Data Transformation",
    "tags": [],
    "uri": "features/story-3-customer-data-transformation.feature"
  },
  {
    "description": "  As a developer\n  I want to send transformed customer data to Segment Identify API\n  So that users are created or updated in Segment identified by email",
    "elements": [
      {
        "description": "",
        "id": "segment-identify-api-integration;send-customer-data-to-segment-identify-api-successfully",
        "keyword": "Scenario",
        "line": 10,
        "name": "Send customer data to Segment Identify API successfully",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 9333
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 3124
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the Segment client is initialized with write key from environment",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:173"
            },
            "result": {
              "status": "passed",
              "duration": 283625
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "transformed customer data is available",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:185"
            },
            "result": {
              "status": "passed",
              "duration": 149791
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 11,
            "name": "transformed customer data with email \"user@example.com\"",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:191"
            },
            "result": {
              "status": "passed",
              "duration": 415917
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 12,
            "name": "I send the customer data to Segment Identify API",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 392417
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 13,
            "name": "the API call should succeed",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:365"
            },
            "result": {
              "status": "passed",
              "duration": 140499
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 14,
            "name": "the customer should be identified in Segment with userId \"user@example.com\"",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:372"
            },
            "result": {
              "status": "passed",
              "duration": 526249
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "segment-identify-api-integration;send-customer-data-with-email-as-userid",
        "keyword": "Scenario",
        "line": 16,
        "name": "Send customer data with email as userId",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 9250
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 3124
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the Segment client is initialized with write key from environment",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:173"
            },
            "result": {
              "status": "passed",
              "duration": 11792
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "transformed customer data is available",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:185"
            },
            "result": {
              "status": "passed",
              "duration": 8666
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 17,
            "name": "transformed customer data with email \"test@example.com\"",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:191"
            },
            "result": {
              "status": "passed",
              "duration": 116124
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 18,
            "name": "I send the customer data to Segment Identify API",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 95334
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 19,
            "name": "the API call should use email \"test@example.com\" as userId",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:395"
            },
            "result": {
              "status": "passed",
              "duration": 484709
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "segment-identify-api-integration;send-customer-data-with-email-trait",
        "keyword": "Scenario",
        "line": 21,
        "name": "Send customer data with email trait",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 9500
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 3208
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the Segment client is initialized with write key from environment",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:173"
            },
            "result": {
              "status": "passed",
              "duration": 11833
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "transformed customer data is available",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:185"
            },
            "result": {
              "status": "passed",
              "duration": 14499
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 22,
            "name": "transformed customer data with email \"user@example.com\"",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:191"
            },
            "result": {
              "status": "passed",
              "duration": 15542
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 23,
            "name": "I send the customer data to Segment Identify API",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 85291
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 24,
            "name": "the API call should include email \"user@example.com\" in traits",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:407"
            },
            "result": {
              "status": "passed",
              "duration": 686208
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "segment-identify-api-integration;send-customer-data-with-name-trait",
        "keyword": "Scenario",
        "line": 26,
        "name": "Send customer data with name trait",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 6374
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 2667
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the Segment client is initialized with write key from environment",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:173"
            },
            "result": {
              "status": "passed",
              "duration": 7749
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "transformed customer data is available",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:185"
            },
            "result": {
              "status": "passed",
              "duration": 5083
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "field",
                      "value"
                    ]
                  },
                  {
                    "cells": [
                      "email",
                      "user@example.com"
                    ]
                  },
                  {
                    "cells": [
                      "name",
                      "John Doe"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 27,
            "name": "transformed customer data with:",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:199"
            },
            "result": {
              "status": "passed",
              "duration": 223165
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 31,
            "name": "I send the customer data to Segment Identify API",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 66083
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 32,
            "name": "the API call should include name \"John Doe\" in traits",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:419"
            },
            "result": {
              "status": "passed",
              "duration": 387500
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "segment-identify-api-integration;send-customer-data-with-address-trait",
        "keyword": "Scenario",
        "line": 34,
        "name": "Send customer data with address trait",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 5707
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 2416
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the Segment client is initialized with write key from environment",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:173"
            },
            "result": {
              "status": "passed",
              "duration": 6875
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "transformed customer data is available",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:185"
            },
            "result": {
              "status": "passed",
              "duration": 4749
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "field",
                      "value"
                    ]
                  },
                  {
                    "cells": [
                      "email",
                      "user@example.com"
                    ]
                  },
                  {
                    "cells": [
                      "street",
                      "123 Main St"
                    ]
                  },
                  {
                    "cells": [
                      "city",
                      "New York"
                    ]
                  },
                  {
                    "cells": [
                      "postalCode",
                      "10001"
                    ]
                  },
                  {
                    "cells": [
                      "country",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 35,
            "name": "transformed customer data with:",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:199"
            },
            "result": {
              "status": "passed",
              "duration": 28583
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 42,
            "name": "I send the customer data to Segment Identify API",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 54708
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "street",
                      "city",
                      "postalCode",
                      "country"
                    ]
                  },
                  {
                    "cells": [
                      "123 Main St",
                      "New York",
                      "10001",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Then ",
            "line": 43,
            "name": "the API call should include address in traits:",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:431"
            },
            "result": {
              "status": "passed",
              "duration": 483915
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "segment-identify-api-integration;send-customer-data-with-all-traits-(email,-name,-address)",
        "keyword": "Scenario",
        "line": 47,
        "name": "Send customer data with all traits (email, name, address)",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 7166
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 2666
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the Segment client is initialized with write key from environment",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:173"
            },
            "result": {
              "status": "passed",
              "duration": 9833
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "transformed customer data is available",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:185"
            },
            "result": {
              "status": "passed",
              "duration": 5208
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "field",
                      "value"
                    ]
                  },
                  {
                    "cells": [
                      "email",
                      "user@example.com"
                    ]
                  },
                  {
                    "cells": [
                      "name",
                      "Jane Smith"
                    ]
                  },
                  {
                    "cells": [
                      "street",
                      "456 Oak Ave"
                    ]
                  },
                  {
                    "cells": [
                      "city",
                      "Los Angeles"
                    ]
                  },
                  {
                    "cells": [
                      "postalCode",
                      "90001"
                    ]
                  },
                  {
                    "cells": [
                      "country",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 48,
            "name": "transformed customer data with:",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:199"
            },
            "result": {
              "status": "passed",
              "duration": 30416
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 56,
            "name": "I send the customer data to Segment Identify API",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 68415
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 57,
            "name": "the API call should succeed",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:365"
            },
            "result": {
              "status": "passed",
              "duration": 20582
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 58,
            "name": "the API call should use email \"user@example.com\" as userId",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:395"
            },
            "result": {
              "status": "passed",
              "duration": 118958
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 59,
            "name": "the API call should include email \"user@example.com\" in traits",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:407"
            },
            "result": {
              "status": "passed",
              "duration": 110582
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 60,
            "name": "the API call should include name \"Jane Smith\" in traits",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:419"
            },
            "result": {
              "status": "passed",
              "duration": 98500
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "street",
                      "city",
                      "postalCode",
                      "country"
                    ]
                  },
                  {
                    "cells": [
                      "456 Oak Ave",
                      "Los Angeles",
                      "90001",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "And ",
            "line": 61,
            "name": "the API call should include address in traits:",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:431"
            },
            "result": {
              "status": "passed",
              "duration": 40500
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "segment-identify-api-integration;handle-successful-api-response",
        "keyword": "Scenario",
        "line": 65,
        "name": "Handle successful API response",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 7792
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 2707
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the Segment client is initialized with write key from environment",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:173"
            },
            "result": {
              "status": "passed",
              "duration": 10125
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "transformed customer data is available",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:185"
            },
            "result": {
              "status": "passed",
              "duration": 4875
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 66,
            "name": "transformed customer data with email \"user@example.com\"",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:191"
            },
            "result": {
              "status": "passed",
              "duration": 14499
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 67,
            "name": "I send the customer data to Segment Identify API",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 57457
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 68,
            "name": "the function should return success status",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:477"
            },
            "result": {
              "status": "passed",
              "duration": 187957
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 69,
            "name": "no error should be thrown",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:483"
            },
            "result": {
              "status": "passed",
              "duration": 119916
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "segment-identify-api-integration;handle-api-error-gracefully",
        "keyword": "Scenario",
        "line": 71,
        "name": "Handle API error gracefully",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 5250
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 2541
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the Segment client is initialized with write key from environment",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:173"
            },
            "result": {
              "status": "passed",
              "duration": 6291
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "transformed customer data is available",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:185"
            },
            "result": {
              "status": "passed",
              "duration": 5042
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 72,
            "name": "transformed customer data with email \"user@example.com\"",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:191"
            },
            "result": {
              "status": "passed",
              "duration": 11834
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 73,
            "name": "the Segment API will return an error",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:317"
            },
            "result": {
              "status": "passed",
              "duration": 147915
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 74,
            "name": "I send the customer data to Segment Identify API",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 860709
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 75,
            "name": "the function should return error status",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:489"
            },
            "result": {
              "status": "passed",
              "duration": 210833
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 76,
            "name": "the error should be handled gracefully",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:496"
            },
            "result": {
              "status": "passed",
              "duration": 162375
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "segment-identify-api-integration;send-customer.created-event-data-to-segment",
        "keyword": "Scenario",
        "line": 78,
        "name": "Send customer.created event data to Segment",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 7125
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 2540
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the Segment client is initialized with write key from environment",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:173"
            },
            "result": {
              "status": "passed",
              "duration": 8500
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "transformed customer data is available",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:185"
            },
            "result": {
              "status": "passed",
              "duration": 4916
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 79,
            "name": "transformed customer data from customer.created event with email \"newuser@example.com\"",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:299"
            },
            "result": {
              "status": "passed",
              "duration": 445417
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 80,
            "name": "I send the customer data to Segment Identify API",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 135334
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 81,
            "name": "the API call should succeed",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:365"
            },
            "result": {
              "status": "passed",
              "duration": 110541
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 82,
            "name": "the customer should be identified in Segment with userId \"newuser@example.com\"",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:372"
            },
            "result": {
              "status": "passed",
              "duration": 152291
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "segment-identify-api-integration;send-customer.updated-event-data-to-segment",
        "keyword": "Scenario",
        "line": 84,
        "name": "Send customer.updated event data to Segment",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 7916
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 3375
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the Segment client is initialized with write key from environment",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:173"
            },
            "result": {
              "status": "passed",
              "duration": 13249
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "transformed customer data is available",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:185"
            },
            "result": {
              "status": "passed",
              "duration": 5750
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 85,
            "name": "transformed customer data from customer.updated event with email \"existing@example.com\"",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:308"
            },
            "result": {
              "status": "passed",
              "duration": 467709
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 86,
            "name": "I send the customer data to Segment Identify API",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 259999
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 87,
            "name": "the API call should succeed",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:365"
            },
            "result": {
              "status": "passed",
              "duration": 25875
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 88,
            "name": "the customer should be identified in Segment with userId \"existing@example.com\"",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:372"
            },
            "result": {
              "status": "passed",
              "duration": 115082
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "segment-identify-api-integration;send-customer-data-with-different-email-addresses",
        "keyword": "Scenario Outline",
        "line": 98,
        "name": "Send customer data with different email addresses",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 7541
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 2417
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the Segment client is initialized with write key from environment",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:173"
            },
            "result": {
              "status": "passed",
              "duration": 6375
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "transformed customer data is available",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:185"
            },
            "result": {
              "status": "passed",
              "duration": 4500
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 91,
            "name": "transformed customer data with email \"user@example.com\"",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:191"
            },
            "result": {
              "status": "passed",
              "duration": 11500
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 92,
            "name": "I send the customer data to Segment Identify API",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 63458
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 93,
            "name": "the API call should use email \"user@example.com\" as userId",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:395"
            },
            "result": {
              "status": "passed",
              "duration": 29915
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 94,
            "name": "the API call should include email \"user@example.com\" in traits",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:407"
            },
            "result": {
              "status": "passed",
              "duration": 25249
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "segment-identify-api-integration;send-customer-data-with-different-email-addresses",
        "keyword": "Scenario Outline",
        "line": 99,
        "name": "Send customer data with different email addresses",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 6542
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 2333
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the Segment client is initialized with write key from environment",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:173"
            },
            "result": {
              "status": "passed",
              "duration": 5875
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "transformed customer data is available",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:185"
            },
            "result": {
              "status": "passed",
              "duration": 5083
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 91,
            "name": "transformed customer data with email \"test.user@domain.com\"",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:191"
            },
            "result": {
              "status": "passed",
              "duration": 11916
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 92,
            "name": "I send the customer data to Segment Identify API",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 51500
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 93,
            "name": "the API call should use email \"test.user@domain.com\" as userId",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:395"
            },
            "result": {
              "status": "passed",
              "duration": 129500
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 94,
            "name": "the API call should include email \"test.user@domain.com\" in traits",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:407"
            },
            "result": {
              "status": "passed",
              "duration": 31875
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "segment-identify-api-integration;send-customer-data-with-different-email-addresses",
        "keyword": "Scenario Outline",
        "line": 100,
        "name": "Send customer data with different email addresses",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 4791
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 2083
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the Segment client is initialized with write key from environment",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:173"
            },
            "result": {
              "status": "passed",
              "duration": 6832
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "transformed customer data is available",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:185"
            },
            "result": {
              "status": "passed",
              "duration": 4792
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 91,
            "name": "transformed customer data with email \"admin@company.org\"",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:191"
            },
            "result": {
              "status": "passed",
              "duration": 18416
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 92,
            "name": "I send the customer data to Segment Identify API",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 46875
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 93,
            "name": "the API call should use email \"admin@company.org\" as userId",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:395"
            },
            "result": {
              "status": "passed",
              "duration": 99083
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 94,
            "name": "the API call should include email \"admin@company.org\" in traits",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:407"
            },
            "result": {
              "status": "passed",
              "duration": 25750
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      }
    ],
    "id": "segment-identify-api-integration",
    "line": 1,
    "keyword": "Feature",
    "name": "Segment Identify API Integration",
    "tags": [],
    "uri": "features/story-4-segment-identify-api-integration.feature"
  },
  {
    "description": "  As a developer\n  I want to test the complete flow from Commercetools webhook to Segment user creation/update\n  So that I can verify the integration works correctly end-to-end",
    "elements": [
      {
        "description": "",
        "id": "end-to-end-integration-testing;complete-flow-for-customer.created-event-creates-user-in-segment",
        "keyword": "Scenario",
        "line": 11,
        "name": "Complete flow for customer.created event creates user in Segment",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 6458
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 2417
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 18459
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the Segment integration is configured with valid credentials",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:59"
            },
            "result": {
              "status": "passed",
              "duration": 244084
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "the data transformation service is available",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:68"
            },
            "result": {
              "status": "passed",
              "duration": 476540
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "field",
                      "value"
                    ]
                  },
                  {
                    "cells": [
                      "email",
                      "newuser@example.com"
                    ]
                  },
                  {
                    "cells": [
                      "firstName",
                      "John"
                    ]
                  },
                  {
                    "cells": [
                      "lastName",
                      "Doe"
                    ]
                  },
                  {
                    "cells": [
                      "street",
                      "123 Main St"
                    ]
                  },
                  {
                    "cells": [
                      "city",
                      "New York"
                    ]
                  },
                  {
                    "cells": [
                      "postalCode",
                      "10001"
                    ]
                  },
                  {
                    "cells": [
                      "country",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 12,
            "name": "a valid Commercetools customer.created webhook payload with:",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:126"
            },
            "result": {
              "status": "passed",
              "duration": 436624
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 21,
            "name": "I send the webhook payload to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:203"
            },
            "result": {
              "status": "passed",
              "duration": 520064750
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 22,
            "name": "the webhook endpoint should return HTTP status 200",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:307"
            },
            "result": {
              "status": "passed",
              "duration": 1560749
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 23,
            "name": "the customer should be created in Segment with userId \"newuser@example.com\"",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 1679542
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 24,
            "name": "the customer in Segment should have email \"newuser@example.com\" in traits",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:354"
            },
            "result": {
              "status": "passed",
              "duration": 1310582
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 25,
            "name": "the customer in Segment should have name \"John Doe\" in traits",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:368"
            },
            "result": {
              "status": "passed",
              "duration": 1149415
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "street",
                      "city",
                      "postalCode",
                      "country"
                    ]
                  },
                  {
                    "cells": [
                      "123 Main St",
                      "New York",
                      "10001",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "And ",
            "line": 26,
            "name": "the customer in Segment should have address in traits:",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:388"
            },
            "result": {
              "status": "passed",
              "duration": 687957
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "end-to-end-integration-testing;complete-flow-for-customer.updated-event-updates-user-in-segment",
        "keyword": "Scenario",
        "line": 30,
        "name": "Complete flow for customer.updated event updates user in Segment",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 38500
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 8792
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 70500
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the Segment integration is configured with valid credentials",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:59"
            },
            "result": {
              "status": "passed",
              "duration": 80708
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "the data transformation service is available",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:68"
            },
            "result": {
              "status": "passed",
              "duration": 16541
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "field",
                      "value"
                    ]
                  },
                  {
                    "cells": [
                      "email",
                      "existing@example.com"
                    ]
                  },
                  {
                    "cells": [
                      "firstName",
                      "Jane"
                    ]
                  },
                  {
                    "cells": [
                      "lastName",
                      "Smith"
                    ]
                  },
                  {
                    "cells": [
                      "street",
                      "456 Oak Ave"
                    ]
                  },
                  {
                    "cells": [
                      "city",
                      "Los Angeles"
                    ]
                  },
                  {
                    "cells": [
                      "postalCode",
                      "90001"
                    ]
                  },
                  {
                    "cells": [
                      "country",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 31,
            "name": "a valid Commercetools customer.updated webhook payload with:",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:164"
            },
            "result": {
              "status": "passed",
              "duration": 933958
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 40,
            "name": "I send the webhook payload to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:203"
            },
            "result": {
              "status": "passed",
              "duration": 221877000
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 41,
            "name": "the webhook endpoint should return HTTP status 200",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:307"
            },
            "result": {
              "status": "passed",
              "duration": 536375
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 42,
            "name": "the customer should be updated in Segment with userId \"existing@example.com\"",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:339"
            },
            "result": {
              "status": "passed",
              "duration": 1998582
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 43,
            "name": "the customer in Segment should have email \"existing@example.com\" in traits",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:354"
            },
            "result": {
              "status": "passed",
              "duration": 540250
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 44,
            "name": "the customer in Segment should have name \"Jane Smith\" in traits",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:368"
            },
            "result": {
              "status": "passed",
              "duration": 382082
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "street",
                      "city",
                      "postalCode",
                      "country"
                    ]
                  },
                  {
                    "cells": [
                      "456 Oak Ave",
                      "Los Angeles",
                      "90001",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "And ",
            "line": 45,
            "name": "the customer in Segment should have address in traits:",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:388"
            },
            "result": {
              "status": "passed",
              "duration": 257207
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "end-to-end-integration-testing;user-is-identified-by-email-in-segment",
        "keyword": "Scenario",
        "line": 49,
        "name": "User is identified by email in Segment",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 71875
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 11625
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 82832
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the Segment integration is configured with valid credentials",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:59"
            },
            "result": {
              "status": "passed",
              "duration": 123832
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "the data transformation service is available",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:68"
            },
            "result": {
              "status": "passed",
              "duration": 31624
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 50,
            "name": "a valid Commercetools customer.created webhook payload with email \"user@example.com\"",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:102"
            },
            "result": {
              "status": "passed",
              "duration": 1823082
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 51,
            "name": "I send the webhook payload to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:203"
            },
            "result": {
              "status": "passed",
              "duration": 677942084
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 52,
            "name": "the webhook endpoint should return HTTP status 200",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:307"
            },
            "result": {
              "status": "passed",
              "duration": 238124
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 53,
            "name": "the customer should be identified in Segment with userId \"user@example.com\"",
            "match": {
              "location": "tests/steps/story-4-segment-identify-api-integration.steps.ts:372"
            },
            "result": {
              "status": "passed",
              "duration": 1862458
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 54,
            "name": "the userId in Segment should match the email \"user@example.com\"",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:427"
            },
            "result": {
              "status": "passed",
              "duration": 1745666
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "end-to-end-integration-testing;all-three-fields-(email,-name,-address)-are-correctly-synced-to-segment",
        "keyword": "Scenario",
        "line": 56,
        "name": "All three fields (email, name, address) are correctly synced to Segment",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 36082
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 9458
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 63417
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the Segment integration is configured with valid credentials",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:59"
            },
            "result": {
              "status": "passed",
              "duration": 80625
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "the data transformation service is available",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:68"
            },
            "result": {
              "status": "passed",
              "duration": 22041
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "field",
                      "value"
                    ]
                  },
                  {
                    "cells": [
                      "email",
                      "complete@example.com"
                    ]
                  },
                  {
                    "cells": [
                      "firstName",
                      "Alice"
                    ]
                  },
                  {
                    "cells": [
                      "lastName",
                      "Johnson"
                    ]
                  },
                  {
                    "cells": [
                      "street",
                      "789 Pine Rd"
                    ]
                  },
                  {
                    "cells": [
                      "city",
                      "Chicago"
                    ]
                  },
                  {
                    "cells": [
                      "postalCode",
                      "60601"
                    ]
                  },
                  {
                    "cells": [
                      "country",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 57,
            "name": "a valid Commercetools customer.created webhook payload with:",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:126"
            },
            "result": {
              "status": "passed",
              "duration": 179624
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 66,
            "name": "I send the webhook payload to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:203"
            },
            "result": {
              "status": "passed",
              "duration": 224444166
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 67,
            "name": "the webhook endpoint should return HTTP status 200",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:307"
            },
            "result": {
              "status": "passed",
              "duration": 297291
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 68,
            "name": "the customer in Segment should have email \"complete@example.com\" in traits",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:354"
            },
            "result": {
              "status": "passed",
              "duration": 222083
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 69,
            "name": "the customer in Segment should have name \"Alice Johnson\" in traits",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:368"
            },
            "result": {
              "status": "passed",
              "duration": 208333
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "street",
                      "city",
                      "postalCode",
                      "country"
                    ]
                  },
                  {
                    "cells": [
                      "789 Pine Rd",
                      "Chicago",
                      "60601",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "And ",
            "line": 70,
            "name": "the customer in Segment should have address in traits:",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:388"
            },
            "result": {
              "status": "passed",
              "duration": 122083
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "end-to-end-integration-testing;complete-flow-processes-customer.created-event-end-to-end",
        "keyword": "Scenario",
        "line": 74,
        "name": "Complete flow processes customer.created event end-to-end",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 44541
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 10707
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 72833
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the Segment integration is configured with valid credentials",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:59"
            },
            "result": {
              "status": "passed",
              "duration": 92208
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "the data transformation service is available",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:68"
            },
            "result": {
              "status": "passed",
              "duration": 22707
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 75,
            "name": "a valid Commercetools customer.created webhook payload with email \"test@example.com\"",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:102"
            },
            "result": {
              "status": "passed",
              "duration": 460708
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 76,
            "name": "I send the webhook payload to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:203"
            },
            "result": {
              "status": "passed",
              "duration": 226876665
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 77,
            "name": "the webhook endpoint should return HTTP status 200",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:307"
            },
            "result": {
              "status": "passed",
              "duration": 281333
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 78,
            "name": "the response should indicate success",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:316"
            },
            "result": {
              "status": "passed",
              "duration": 1190791
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 79,
            "name": "the customer should appear in Segment",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:439"
            },
            "result": {
              "status": "passed",
              "duration": 844999
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 80,
            "name": "the customer should be identified by email \"test@example.com\"",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:453"
            },
            "result": {
              "status": "passed",
              "duration": 1637999
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "end-to-end-integration-testing;complete-flow-processes-customer.updated-event-end-to-end",
        "keyword": "Scenario",
        "line": 82,
        "name": "Complete flow processes customer.updated event end-to-end",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 45957
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 11833
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 90375
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the Segment integration is configured with valid credentials",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:59"
            },
            "result": {
              "status": "passed",
              "duration": 124542
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "the data transformation service is available",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:68"
            },
            "result": {
              "status": "passed",
              "duration": 32208
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 83,
            "name": "a valid Commercetools customer.updated webhook payload with email \"update@example.com\"",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:114"
            },
            "result": {
              "status": "passed",
              "duration": 1553582
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 84,
            "name": "I send the webhook payload to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:203"
            },
            "result": {
              "status": "passed",
              "duration": 206891583
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 85,
            "name": "the webhook endpoint should return HTTP status 200",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:307"
            },
            "result": {
              "status": "passed",
              "duration": 313415
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 86,
            "name": "the response should indicate success",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:316"
            },
            "result": {
              "status": "passed",
              "duration": 149582
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 87,
            "name": "the customer should appear in Segment",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:439"
            },
            "result": {
              "status": "passed",
              "duration": 161750
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 88,
            "name": "the customer should be identified by email \"update@example.com\"",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:453"
            },
            "result": {
              "status": "passed",
              "duration": 466999
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "end-to-end-integration-testing;data-flows-correctly-from-webhook-through-transformation-to-segment",
        "keyword": "Scenario",
        "line": 90,
        "name": "Data flows correctly from webhook through transformation to Segment",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 35165
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 10749
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 62459
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the Segment integration is configured with valid credentials",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:59"
            },
            "result": {
              "status": "passed",
              "duration": 73624
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "the data transformation service is available",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:68"
            },
            "result": {
              "status": "passed",
              "duration": 21541
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "field",
                      "value"
                    ]
                  },
                  {
                    "cells": [
                      "email",
                      "flow@example.com"
                    ]
                  },
                  {
                    "cells": [
                      "firstName",
                      "Bob"
                    ]
                  },
                  {
                    "cells": [
                      "lastName",
                      "Williams"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 91,
            "name": "a valid Commercetools customer.created webhook payload with:",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:126"
            },
            "result": {
              "status": "passed",
              "duration": 144082
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 96,
            "name": "I send the webhook payload to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:203"
            },
            "result": {
              "status": "passed",
              "duration": 213504916
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 97,
            "name": "the webhook endpoint should return HTTP status 200",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:307"
            },
            "result": {
              "status": "passed",
              "duration": 86082
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 98,
            "name": "the customer data should be transformed correctly",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:466"
            },
            "result": {
              "status": "passed",
              "duration": 408124
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 99,
            "name": "the transformed data should be sent to Segment",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:475"
            },
            "result": {
              "status": "passed",
              "duration": 323167
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 100,
            "name": "the customer should be created in Segment with userId \"flow@example.com\"",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 167541
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 101,
            "name": "the customer in Segment should have name \"Bob Williams\" in traits",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:368"
            },
            "result": {
              "status": "passed",
              "duration": 47125
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "end-to-end-integration-testing;complete-flow-works-with-different-customer-data-combinations",
        "keyword": "Scenario Outline",
        "line": 124,
        "name": "Complete flow works with different customer data combinations",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 14541
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 3874
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 18667
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the Segment integration is configured with valid credentials",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:59"
            },
            "result": {
              "status": "passed",
              "duration": 27582
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "the data transformation service is available",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:68"
            },
            "result": {
              "status": "passed",
              "duration": 7250
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "field",
                      "value"
                    ]
                  },
                  {
                    "cells": [
                      "email",
                      "user1@example.com"
                    ]
                  },
                  {
                    "cells": [
                      "firstName",
                      "John"
                    ]
                  },
                  {
                    "cells": [
                      "lastName",
                      "Doe"
                    ]
                  },
                  {
                    "cells": [
                      "street",
                      "123 Main St"
                    ]
                  },
                  {
                    "cells": [
                      "city",
                      "New York"
                    ]
                  },
                  {
                    "cells": [
                      "postalCode",
                      "10001"
                    ]
                  },
                  {
                    "cells": [
                      "country",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 104,
            "name": "a valid Commercetools customer.created webhook payload with:",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:126"
            },
            "result": {
              "status": "passed",
              "duration": 63165
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 113,
            "name": "I send the webhook payload to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:203"
            },
            "result": {
              "status": "passed",
              "duration": 208341542
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 114,
            "name": "the webhook endpoint should return HTTP status 200",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:307"
            },
            "result": {
              "status": "passed",
              "duration": 275708
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 115,
            "name": "the customer should be created in Segment with userId \"user1@example.com\"",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 242040
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 116,
            "name": "the customer in Segment should have email \"user1@example.com\" in traits",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:354"
            },
            "result": {
              "status": "passed",
              "duration": 322415
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 117,
            "name": "the customer in Segment should have name \"John Doe\" in traits",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:368"
            },
            "result": {
              "status": "passed",
              "duration": 147583
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "street",
                      "city",
                      "postalCode",
                      "country"
                    ]
                  },
                  {
                    "cells": [
                      "123 Main St",
                      "New York",
                      "10001",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "And ",
            "line": 118,
            "name": "the customer in Segment should have address in traits:",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:388"
            },
            "result": {
              "status": "passed",
              "duration": 158125
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "end-to-end-integration-testing;complete-flow-works-with-different-customer-data-combinations",
        "keyword": "Scenario Outline",
        "line": 125,
        "name": "Complete flow works with different customer data combinations",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 34874
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 10208
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 64166
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the Segment integration is configured with valid credentials",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:59"
            },
            "result": {
              "status": "passed",
              "duration": 80999
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "the data transformation service is available",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:68"
            },
            "result": {
              "status": "passed",
              "duration": 25042
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "field",
                      "value"
                    ]
                  },
                  {
                    "cells": [
                      "email",
                      "user2@example.com"
                    ]
                  },
                  {
                    "cells": [
                      "firstName",
                      "Jane"
                    ]
                  },
                  {
                    "cells": [
                      "lastName",
                      "Smith"
                    ]
                  },
                  {
                    "cells": [
                      "street",
                      "456 Oak Ave"
                    ]
                  },
                  {
                    "cells": [
                      "city",
                      "Los Angeles"
                    ]
                  },
                  {
                    "cells": [
                      "postalCode",
                      "90001"
                    ]
                  },
                  {
                    "cells": [
                      "country",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 104,
            "name": "a valid Commercetools customer.created webhook payload with:",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:126"
            },
            "result": {
              "status": "passed",
              "duration": 144917
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 113,
            "name": "I send the webhook payload to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:203"
            },
            "result": {
              "status": "passed",
              "duration": 225380416
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 114,
            "name": "the webhook endpoint should return HTTP status 200",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:307"
            },
            "result": {
              "status": "passed",
              "duration": 131667
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 115,
            "name": "the customer should be created in Segment with userId \"user2@example.com\"",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 81917
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 116,
            "name": "the customer in Segment should have email \"user2@example.com\" in traits",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:354"
            },
            "result": {
              "status": "passed",
              "duration": 54582
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 117,
            "name": "the customer in Segment should have name \"Jane Smith\" in traits",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:368"
            },
            "result": {
              "status": "passed",
              "duration": 60833
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "street",
                      "city",
                      "postalCode",
                      "country"
                    ]
                  },
                  {
                    "cells": [
                      "456 Oak Ave",
                      "Los Angeles",
                      "90001",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "And ",
            "line": 118,
            "name": "the customer in Segment should have address in traits:",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:388"
            },
            "result": {
              "status": "passed",
              "duration": 117040
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "end-to-end-integration-testing;complete-flow-works-with-different-customer-data-combinations",
        "keyword": "Scenario Outline",
        "line": 126,
        "name": "Complete flow works with different customer data combinations",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 24167
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 7707
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 39499
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the Segment integration is configured with valid credentials",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:59"
            },
            "result": {
              "status": "passed",
              "duration": 59707
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "the data transformation service is available",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:68"
            },
            "result": {
              "status": "passed",
              "duration": 11333
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "field",
                      "value"
                    ]
                  },
                  {
                    "cells": [
                      "email",
                      "user3@example.com"
                    ]
                  },
                  {
                    "cells": [
                      "firstName",
                      "Bob"
                    ]
                  },
                  {
                    "cells": [
                      "lastName",
                      "Jones"
                    ]
                  },
                  {
                    "cells": [
                      "street",
                      "789 Elm St"
                    ]
                  },
                  {
                    "cells": [
                      "city",
                      "Chicago"
                    ]
                  },
                  {
                    "cells": [
                      "postalCode",
                      "60601"
                    ]
                  },
                  {
                    "cells": [
                      "country",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 104,
            "name": "a valid Commercetools customer.created webhook payload with:",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:126"
            },
            "result": {
              "status": "passed",
              "duration": 71791
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 113,
            "name": "I send the webhook payload to the webhook endpoint",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:203"
            },
            "result": {
              "status": "passed",
              "duration": 208376334
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 114,
            "name": "the webhook endpoint should return HTTP status 200",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:307"
            },
            "result": {
              "status": "passed",
              "duration": 226999
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 115,
            "name": "the customer should be created in Segment with userId \"user3@example.com\"",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 137875
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 116,
            "name": "the customer in Segment should have email \"user3@example.com\" in traits",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:354"
            },
            "result": {
              "status": "passed",
              "duration": 104459
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 117,
            "name": "the customer in Segment should have name \"Bob Jones\" in traits",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:368"
            },
            "result": {
              "status": "passed",
              "duration": 104582
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "street",
                      "city",
                      "postalCode",
                      "country"
                    ]
                  },
                  {
                    "cells": [
                      "789 Elm St",
                      "Chicago",
                      "60601",
                      "US"
                    ]
                  }
                ]
              }
            ],
            "keyword": "And ",
            "line": 118,
            "name": "the customer in Segment should have address in traits:",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:388"
            },
            "result": {
              "status": "passed",
              "duration": 101958
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "end-to-end-integration-testing;integration-can-be-tested-locally",
        "keyword": "Scenario",
        "line": 128,
        "name": "Integration can be tested locally",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 48249
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 10790
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 69666
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the Segment integration is configured with valid credentials",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:59"
            },
            "result": {
              "status": "passed",
              "duration": 86874
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "the data transformation service is available",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:68"
            },
            "result": {
              "status": "passed",
              "duration": 26458
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 129,
            "name": "the application is running locally",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:74"
            },
            "result": {
              "status": "passed",
              "duration": 980832
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 130,
            "name": "a valid Commercetools customer.created webhook payload with email \"local@example.com\"",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:102"
            },
            "result": {
              "status": "passed",
              "duration": 142042
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 131,
            "name": "I send the webhook payload to the local webhook endpoint",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:239"
            },
            "result": {
              "status": "passed",
              "duration": 1356878875
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 132,
            "name": "the webhook endpoint should return HTTP status 200",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:307"
            },
            "result": {
              "status": "passed",
              "duration": 79708
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 133,
            "name": "the customer should be created in Segment with userId \"local@example.com\"",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 62125
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "end-to-end-integration-testing;integration-can-be-tested-on-vercel",
        "keyword": "Scenario",
        "line": 135,
        "name": "Integration can be tested on Vercel",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 72041
            }
          },
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 9541
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the webhook endpoint is available at \"/api/webhook\"",
            "match": {
              "location": "tests/steps/story-2-webhook-endpoint.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 60542
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the Segment integration is configured with valid credentials",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:59"
            },
            "result": {
              "status": "passed",
              "duration": 247833
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "the data transformation service is available",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:68"
            },
            "result": {
              "status": "passed",
              "duration": 106124
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 136,
            "name": "the application is deployed on Vercel",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:83"
            },
            "result": {
              "status": "passed",
              "duration": 990874
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 137,
            "name": "a valid Commercetools customer.created webhook payload with email \"vercel@example.com\"",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:102"
            },
            "result": {
              "status": "passed",
              "duration": 107874
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 138,
            "name": "I send the webhook payload to the Vercel webhook endpoint",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:262"
            },
            "result": {
              "status": "passed",
              "duration": 220716083
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 139,
            "name": "the webhook endpoint should return HTTP status 200",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:307"
            },
            "result": {
              "status": "passed",
              "duration": 171083
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 140,
            "name": "the customer should be created in Segment with userId \"vercel@example.com\"",
            "match": {
              "location": "tests/steps/story-5-end-to-end-integration.steps.ts:327"
            },
            "result": {
              "status": "passed",
              "duration": 133624
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      }
    ],
    "id": "end-to-end-integration-testing",
    "line": 1,
    "keyword": "Feature",
    "name": "End-to-End Integration Testing",
    "tags": [],
    "uri": "features/story-5-end-to-end-integration.feature"
  }
]